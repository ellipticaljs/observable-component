!function(e,t){"use strict";var n="JqueryMutationSummary",i=function(t,n){this.$element=e(t),this.options=e.extend(!0,{},this.internalDefaults,e.fn.mutationSummary.defaults,n)},r=function(e,t){this.$element=e,this.configuration=t},o={};e.extend(!0,o,{getConfiguration:function(t,n,i){var r;return e.isFunction(t)?(e.isArray(n)&&(i=n,n=!1),r={callback:t,observeOwnChanges:n===!0,queries:i||[]}):r=t,r}}),i.prototype={constructor:i,internalDefaults:{mutationSummaries:[]},connect:function(e,t,n){var i=o.getConfiguration(e,t,n),a=new r(this.$element,i);this.options.mutationSummaries.push(a),a.start()},disconnect:function(t,n,i){var r=this.options.mutationSummaries;e.each(r,function(e){void 0!==this&&this.configurationMatches(t,n,i)&&(this.stop(),delete r[e])})}},r.prototype={constructor:r,getCallbackWrapper:function(){function t(t){t.observer=this.observer,t.configuration=e.extend(!0,{},this.configuration),this.originalCallback(t)}return e.proxy(t,this)},configurationMatches:function(e,t,n){var i=o.getConfiguration(e,t,n),r=!0;return r=r&&(void 0===e||this.configuration.callback===i.callback),r=r&&(void 0===t||this.configuration.observeOwnChanges===i.observeOwnChanges),r=r&&(void 0===n||this.configuration.queries===i.queries)},start:function(){var n=this.$element.get(0);this.originalCallback=this.configuration.callback,this.wrappedCallback=this.getCallbackWrapper(),this.wrappedConfiguration=e.extend(!0,{},this.configuration),1===this.$element.length&&n!==t&&(this.wrappedConfiguration.rootNode=n),this.wrappedConfiguration.callback=this.wrappedCallback,this.observer=new MutationSummary(this.wrappedConfiguration)},stop:function(){var e=this.observer.disconnect();void 0!==e&&this.wrappedCallback(e),delete this.observer}},e.fn.extend({mutationSummary:function(t){var r=arguments;return this.each(function(){var o=e(this),a=o.data(n),s="object"==typeof t&&t;a||o.data(n,a=new i(this,s)),"string"==typeof t&&a[t].apply(a,Array.prototype.slice.call(r,1))})}}),e.fn.mutationSummary.defaults={},e.fn.mutationSummary.Constructor=i}(jQuery,this),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){var e={};return e.datetime={isDate:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,this.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},setToStartOfDay:function(e){this.isDate(e)&&e.setHours(0,0,0,0)},compareDates:function(e,t){return e.getTime()===t.getTime()},currentDate:function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,i=e.getFullYear();return n+"/"+t+"/"+i}},e.array={isArray:function(e){return/Array/.test(Object.prototype.toString.call(e))},toStringFromArray:function(e,t){for(var n=e.length,i="",r=0;n>r;r++)void 0!==t?r!==t&&(i+=e[r]):i+=e[r];return i},toNamespaceFromArray:function(e){for(var t=e.length,n=t-1,i="",r=0;t>r;r++)i+=e[r].toString(),r!==n&&(i+=".");return i.toLowerCase()}},e.string={dashToCamelCase:function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},random:function(){return Math.floor(1e5*Math.random()+1).toString()},camelCaseToArray:function(e){return e.match(/[A-Z]?[a-z]+/g)},tagNameToNamespace:function(e){return e=e.replace(/-/g,"."),e.toLowerCase()}},e.color={rgb2hex:function(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return-1==e.search("rgb")?e:"rgba(0, 0, 0, 0)"==e?"transparent":(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),"#"+t(e[1])+t(e[2])+t(e[3]))}},e.url={queryString:function(e){var t=window.location.search.substring(1),n=t.split("&");for(i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==e)return r[1]}return null},queryStringObjectArray:function(){var e=[],t=window.location.search.substring(1),n=t.split("&");for(i=0;i<n.length;i++){var r=n[i].split("=");if(r[0]==ji)return r[1];var o={};o.prop=r[0],o.val=r[1],e.push(o)}return e},queryStringFilterArray:function(){var e=[],t=window.location.search.substring(1),n=t.split("&");for(i=0;i<n.length;i++){var r=n[i].split("="),o={};o.filter=r[0],o.val=r[1],""!=o.filter&&e.push(o)}return e}},e.image={aspectRatio:function(e,t){var n=e.width(),i=e.height(),r=i/n;return t.aspectRatio=r,"undefined"!=typeof t.height?t.width=parseInt(1/r*t.height):"undefined"!=typeof t.width&&(t.height=parseInt(r*t.width)),t}},$.utils=$.utils||{},$.extend($.utils,e),String.prototype.toCamelCase=function(){return this.replace(/[-_]([a-z])/g,function(e){return e[1].toUpperCase()})},String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.prototype.toPixel=function(){var e=parseInt(this,10);return e=e.toString()+"px"},String.prototype.toArrayFromCamelCase=function(){return this.match(/[A-Z]?[a-z]+/g)},String.prototype.toFloatPixel=function(){return this.toString()+"px"},String.prototype.toInteger=function(){return parseInt(this.replace("px",""),10)},String.prototype.toMillisecond=function(){var e=parseInt(this,10);return e=e.toString()+"ms"},String.prototype.toNode=function(){var e=$.parseHTML(this);return e[0]?e[0]:null},Number.prototype.toPixel=function(){var e=parseInt(this,10);return e=e.toString()+"px"},Number.prototype.toFloatPixel=function(){return this.toString()+"px"},Number.prototype.toMillisecond=function(){var e=parseInt(this,10);return e=e.toString()+"ms"},$.fn.alterClass=function(e,t){var n=this;if(-1===e.indexOf("*"))return n.removeClass(e),t?n.addClass(t):n;var i=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return n.each(function(e,t){for(var n=" "+t.className+" ";i.test(n);)n=n.replace(i," ");t.className=$.trim(n)}),t?n.addClass(t):n},$.fn.selfFind=function(e){return this.find(e).add(this.filter(e))},$.fn.clearSelect=function(e){return"undefined"==typeof e.defaultOption?this.children.remove():this.children("option:not(:first)").remove(),this},$.fn.findTextNodes=function(){return this.contents().filter(function(){return 3===this.nodeType})},$.fn.findTextNodeDescendants=function(){return this.find("*").contents().filter(function(){return 3===this.nodeType})},$.fn.isVisible=function(){var e=this.is(":visible"),t=this.css("visibility");return e&&"visible"===t},$.fn.query=function(e,t){var n=this,i=0,r=this.find(e);r[0]&&t(r);var o=setInterval(function(){r=n.find(e),r[0]||i>4?(clearInterval(o),t(r)):i++},500)},$.fn.detachClass=function(e){return this.each(function(){1===$(this).length?$(this).removeClass(e):$(this).length>1&&$.each($(this),function(t,n){$(n).removeClass(e)})})},$.fn.removeAnimation=function(e,t){var n=this,i=function(){n.removeClass("hide-important")};setTimeout(function(){n.addClass("hide-important"),t(),setTimeout(i,100)},e)},$.fn.timeout=function(e,t){setTimeout(function(){t()},e)},$.fn.closestChildren=function(e){if(!e||""===e)return $();var t=$();this.each(function(){var n=$(this),i=[];for(i.push(n);i.length>0;)for(var r=i.shift(),o=r.children(),a=0;a<o.length;++a){var s=$(o[a]);if(s.is(e))return t=o,!1;i.push(s)}});var n=[];return $.each(t,function(t,i){$(i).is(e)&&n.push(i)}),$(n)},$.fn.hasAttr=function(e){return this[0].hasAttribute(e)},$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){var e={};e.mozilla=!1,e.webkit=!1,e.opera=!1,e.msie=!1;var t=navigator.userAgent;e.name=navigator.appName,e.fullVersion=""+parseFloat(navigator.appVersion),e.majorVersion=parseInt(navigator.appVersion,10);var n,i,r;return-1!=(i=t.indexOf("Opera"))?(e.opera=!0,e.name="Opera",e.fullVersion=t.substring(i+6),-1!=(i=t.indexOf("Version"))&&(e.fullVersion=t.substring(i+8))):-1!=(i=t.indexOf("MSIE"))?(e.msie=!0,e.name="Microsoft Internet Explorer",e.fullVersion=t.substring(i+5)):-1!=(i=t.indexOf("Chrome"))?(e.webkit=!0,e.name="Chrome",e.fullVersion=t.substring(i+7)):-1!=(i=t.indexOf("Safari"))?(e.webkit=!0,e.name="Safari",e.fullVersion=t.substring(i+7),-1!=(i=t.indexOf("Version"))&&(e.fullVersion=t.substring(i+8))):-1!=(i=t.indexOf("Firefox"))?(e.mozilla=!0,e.name="Firefox",e.fullVersion=t.substring(i+8)):(n=t.lastIndexOf(" ")+1)<(i=t.lastIndexOf("/"))?(e.name=t.substring(n,i),e.fullVersion=t.substring(i+1),e.name.toLowerCase()===e.name.toUpperCase()&&(e.name=navigator.appName)):-1!==t.indexOf("Mozilla")&&-1===t.indexOf("Firefox")&&(e.msie=!0,e.name="Internet Explorer",e.fullVersion="11"),-1!=(r=e.fullVersion.indexOf(";"))&&(e.fullVersion=e.fullVersion.substring(0,r)),-1!=(r=e.fullVersion.indexOf(" "))&&(e.fullVersion=e.fullVersion.substring(0,r)),e.majorVersion=parseInt(""+e.fullVersion,10),isNaN(e.majorVersion)&&(e.fullVersion=""+parseFloat(navigator.appVersion),e.majorVersion=parseInt(navigator.appVersion,10)),e.version=e.majorVersion,$.browser=$.browser||{},$.extend($.browser,e),$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){function e(){return window.innerHeight||$(window).height()}function t(){return window.innerWidth||$(window).width()}var n=661,i={};return i.touch=$.support.touch||"ontouchend"in document,i.android=!1,i.iphone=!1,i.ipad=!1,i.ipod=!1,i.ios=!1,i.webos=!1,i.blackberry=!1,i.smartphone=!1,i.tablet=!1,i.retina=!1,/Android/.test(navigator.userAgent)?i.android=i.touch:/iPhone/.test(navigator.userAgent)?i.iphone=i.touch:/iPad/.test(navigator.userAgent)?i.ipad=i.touch:/iPod/.test(navigator.userAgent)?i.ipod=i.touch:/webOS/.test(navigator.userAgent)?i.webos=i.touch:/BlackBerry/.test(navigator.userAgent)&&(i.blackberry=i.touch),(i.iphone||i.ipad||i.ipod)&&(i.ios=!0),Object.defineProperties(i,{viewport:{get:function(){var n=t(),i=e();return{width:n,height:i}},configurable:!1},orientation:{get:function(){var n=t(),i=e();return i>n?"portrait":"landscape"},configurable:!1},orientationEvent:{get:function(){var e="onorientationchange"in window,t=e?"orientationchange":"resize";return t}}}),window.devicePixelRatio>1&&(i.retina=!0),e()>n||t()>n?(i.tablet=!0,i.smartphone=!1):(i.tablet=!1,i.smartphone=!0),i.touch||(i.tablet=!1,i.smartphone=!1),$.device=$.device||{},$.extend($.device,i),$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){var e={},t=1024,n=320,i=640,r=641;return Object.defineProperties(e,{touch:{get:function(){return $.device.viewport.width<=t},configurable:!1},smartphone:{get:function(){return $.touch.device.viewport.width<=i},configurable:!1},touchQuery:{get:function(){var e="(max-width:"+t+"px) and (min-width:"+n+"px)";return e},configurable:!1},touchLandscapeQuery:{get:function(){var e="(max-width:"+t+"px) and (min-width:"+n+"px) and (orientation:landscape)";return e},configurable:!1},touchPortraitQuery:{get:function(){var e="(max-width:"+t+"px) and (min-width:"+n+"px) and (orientation:portrait)";return e},configurable:!1},tabletQuery:{get:function(){var e="(max-width:"+(t-1)+"px) and (min-width:"+r+"px)";return e},configurable:!1},tabletLandscapeQuery:{get:function(){var e="(max-width:"+t+"px) and (min-width:"+r+"px) and (orientation:landscape)";return e},configurable:!1},tabletPortraitQuery:{get:function(){var e="(max-width:"+t+"px) and (min-width:"+r+"px) and (orientation:portrait)";return e},configurable:!1},smartPhoneQuery:{get:function(){var e="(max-width:"+i+"px)";return e},configurable:!1},smartPhoneLandscapeQuery:{get:function(){var e="(max-width:"+i+"px) and (orientation:landscape)";return e},configurable:!1},smartPhonePortraitQuery:{get:function(){var e="(max-width:"+i+"px) and (orientation:portrait)";return e},configurable:!1},landscapeQuery:{get:function(){var e="(orientation:landscape)";return e},configurable:!1},portraitQuery:{get:function(){var e="(orientation:portrait)";return e},configurable:!1},desktopQuery:{get:function(){var e=t+1,n="(min-width:"+e+"px)";return n},configurable:!1}}),$.device=$.device||{},$.device.mq=e,$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){function e(e){ne.cssText=e}function t(e,t){return typeof e===t}function n(e,t){return!!~(""+e).indexOf(t)}function i(e,t){for(var i in e){var r=e[i];if(!n(r,"-")&&void 0!==ne[r])return"pfx"==t?r:!0}return!1}function r(e,n,i){for(var r in e){var o=n[e[r]];if(void 0!==o)return i===!1?e[r]:t(o,"function")?o.bind(i||n):o}return!1}function o(e,t,n){return t?a(e,t,n):a(e,"pfx")}function a(e,n,o){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+ae.join(a+" ")+a).split(" ");return t(n,"string")||t(n,"undefined")?i(s,n):(s=(e+" "+se.join(a+" ")+a).split(" "),r(s,n,o))}function s(){return"orientation"in window&&"onorientationchange"in window}function u(){var e;return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?e=!0:le(["@media (",re.join("touch-enabled),("),ee,")","{#elliptical{top:9px;position:absolute}}"].join(""),function(t){e=9===t.offsetTop}),e}function c(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function l(){return"geolocation"in navigator}function d(){return!(!window.history||!history.pushState)}function f(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}function h(){return"WebSocket"in window||"MozWebSocket"in window}function p(){var e=!!a("perspective");return e&&"webkitPerspective"in K.style&&le("@media (transform-3d),(-webkit-transform-3d){#elliptical{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e}function v(){var e=document.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return t}function m(){var e=document.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return t}function g(){try{return localStorage.setItem(ee,ee),localStorage.removeItem(ee),!0}catch(e){return!1}}function b(){try{return sessionStorage.setItem(ee,ee),sessionStorage.removeItem(ee),!0}catch(e){return!1}}function _(){return!!window.Worker}function y(){return!!window.applicationCache}function w(){return!!document.createElementNS&&!!document.createElementNS(ue.svg,"svg").createSVGRect}function x(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==ue.svg}function O(){return!!document.createElementNS&&/SVGClipPath/.test(ie.call(document.createElementNS(ue.svg,"clipPath")))}function C(){if(/Android/.test(navigator.userAgent))return!1;var e=document.createElement("elliptical"),t=("undefined"!=typeof e.style.webkitBackgroundClip&&(e.style.webkitBackgroundClip="text"),"text"==e.style.webkitBackgroundClip);return t}function j(){return"contentEditable"in document.documentElement}function E(){return a("overflowScrolling")}function k(){return a("resize")}function S(){return a("flexWrap")}function T(){return!!window.postMessage}function A(){return"undefined"!=typeof DataView&&"getFloat64"in DataView.prototype}function P(){var e=document.createElement("div");return e.setAttribute("data-a-b","c"),!(!e.dataset||"c"!==e.dataset.aB)}function M(){return void 0!==document.createElement("progress").max}function I(){return void 0!==document.createElement("meter").max}function D(){return!!o("requestFileSystem",window)}function N(){return!!(window.File&&window.FileList&&window.FileReader)}function V(){for(var e=0;e<se.length;e++)if(document[se[e].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1}function F(){return!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)}function z(){return!!o("battery",navigator)}function L(){var e=.2,t=o("battery",navigator);return!!(t&&!t.charging&&t.level<=e)}function R(){return a("flexWrap")}function q(){return!!a("indexedDB",window)}function H(){return e("background-color:hsla(120,40%,100%,.5)"),n(ne.backgroundColor,"rgba")||n(ne.backgroundColor,"hsla")}function B(){return e("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(ne.background)}function U(){return a("columnCount")}function W(){return a("boxReflect")}function Q(){return"DeviceMotionEvent"in window}function Y(){return"DeviceOrientationEvent"in window}function X(){var e=navigator.connection||{type:0};return e.type}function Z(){var e=navigator.connection||{type:0};return 3==e.type||4==e.type||/^[23]g$/.test(e.type)}function J(){var e=document.createElement("form");if(!("checkValidity"in e))return!1;var t,n=document.body,i=document.documentElement,r=!1,o=!1;e.onsubmit=function(e){window.opera||e.preventDefault(),e.stopPropagation()},e.innerHTML='<input name="modTest" required><button></button>',e.style.position="absolute",e.style.top="-99999em",n||(r=!0,n=document.createElement("body"),n.style.background="",i.appendChild(n)),n.appendChild(e),t=e.getElementsByTagName("input")[0],t.oninvalid=function(e){o=!0,e.preventDefault(),e.stopPropagation()};!!t.validationMessage;return e.getElementsByTagName("button")[0].click(),n.removeChild(e),r&&i.removeChild(n),o}var G={},K=document.documentElement,ee="elliptical",te=document.createElement(ee),ne=te.style,ie={}.toString,re=" -webkit- -moz- -o- -ms- ".split(" "),oe="Webkit Moz O ms",ae=oe.split(" "),se=oe.toLowerCase().split(" "),ue={svg:"http://www.w3.org/2000/svg"},ce=[],le=(ce.slice,function(e,t,n,i){var r,o,a,s,u=document.createElement("div"),c=document.body,l=c||document.createElement("body");if(parseInt(n,10))for(;n--;)a=document.createElement("div"),a.id=i?i[n]:ee+(n+1),u.appendChild(a);return r=["&#173;",'<style id="s',ee,'">',e,"</style>"].join(""),u.id=ee,(c?u:l).innerHTML+=r,l.appendChild(u),c||(l.style.background="",l.style.overflow="hidden",s=K.style.overflow,K.style.overflow="hidden",K.appendChild(l)),o=t(u,e),c?u.parentNode.removeChild(u):(l.parentNode.removeChild(l),K.style.overflow=s),!!o});({}).hasOwnProperty;return G.orientation=s(),G.touch=u(),G.canvas=c(),G.geolocation=l(),G.history=d(),G.dragdrop=f(),G.websockets=h(),G.css3dtransforms=p(),G.video=v(),G.audio=m(),G.localstorage=g(),G.sessionstorage=b(),G.webworkers=_(),G.applicationcache=y(),G.svg=w(),G.inlinesvg=x(),G.svgclippaths=O(),G.backgroundclip=C(),G.contenteditbale=j(),G.overflowscrolling=E(),G.cssresize=k(),G.flexwrap=S(),G.postmessage=T(),G.dataview=A(),G.dataset=P(),G.progressbar=M(),G.meter=I(),G.filesystem=D(),G.filereader=N(),G.fullscreen=V(),G.cors=F(),G.battery=z(),G.lowbattery=L(),G.flexbox=R(),G.indexeddb=q(),G.hsla=H(),G.multiplebgs=B(),G.csscolumns=U(),G.cssreflections=W(),G.devicemotion=Q(),G.deviceorientation=Y(),G.connectiontype=X(),G.lowbandwidth=Z(),G.formvalidation=J(),G.init=function(){var e=$("html");e.removeClass("no-js"),e.addClass("js");var t=["touch","canvas","svg","history","formvalidation","localstorage","sessionstorage","meter","backgroundclip","inlinesvg","svgclippaths","css3dtransforms","video","audio","progressbar","cssresize","postmessage","overflowscrolling","flexbox","indexeddb","hsla","multiplebgs","csscolumns","cssreflections","flexwrap"];t.forEach(function(t){G[t]?e.addClass(t):e.addClass("no-"+t)})},G.stickyFooter=function(){if($.browser.msie){var e=$(".ui-sticky-footer");e[0]&&e.addClass("ns")}},G.init(),G.stickyFooter(),$.support=$.support||{},$.extend($.support,G),$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){function e(e){var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in f.style)return e;for(var i=0;i<t.length;++i){var r=t[i]+n;if(r in f.style)return r}}function t(){return f.style[h.transform]="",f.style[h.transform]="rotateY(90deg)",""!==f.style[h.transform]}function n(e){return"string"==typeof e&&this.parse(e),this}function i(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function r(e){var t=[];return $.each(e,function(e){e=$.camelCase(e),e=$.transit.propertyMap[e]||e,e=s(e),-1===$.inArray(e,t)&&t.push(e)}),t}function o(e,t,n,i){var o=r(e);$.cssEase[n]&&(n=$.cssEase[n]);var a=""+c(t)+" "+n;parseInt(i,10)>0&&(a+=" "+c(i));var s=[];return $.each(o,function(e,t){s.push(t+" "+a)}),s.join(", ")}function a(e,t){t||($.cssNumber[e]=!0),$.transit.propertyMap[e]=h.transform,$.cssHooks[e]={get:function(t){var i=$(t).css("transform")||new n;return i.get(e)},set:function(t,i){var r=$(t).css("transform")||new n;r.setFromString(e,i),$(t).css({transform:r})}}}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function u(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function c(e){var t=e;return $.fx.speeds[t]&&(t=$.fx.speeds[t]),u(t,"ms")}function l(e){var t=parseFloat(e/1e3);return t}function d(e,t,n,i,r){e.removeCSSStyles().removeClass(n),(i.indexOf("Out")>-1||i.indexOf("out")>-1)&&e.hide(),e.off(t),r&&void 0!==r&&r.call(e)}$.transit={propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var f=document.createElement("div"),h={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=e("transition"),h.transitionDelay=e("transitionDelay"),h.transform=e("transform"),h.transformOrigin=e("transformOrigin"),h.transform3d=t(),$.extend($.support,h);var v={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},m=h.transitionEnd=v[h.transition]||null;f=null,$.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"},$.cssHooks.transform={get:function(e){return $(e).data("transform")},set:function(e,t){var i=t;i instanceof n||(i=new n(i)),"WebkitTransform"!==h.transform||p?e.style[h.transform]=i.toString():e.style[h.transform]=i.toString(!0),$(e).data("transform",i)}},$.cssHooks.transformOrigin={get:function(e){return e.style[h.transformOrigin]},set:function(e,t){e.style[h.transformOrigin]=t}},$.cssHooks.transition={get:function(e){return e.style[h.transition]},set:function(e,t){e.style[h.transition]=t}},a("scale"),a("translate"),a("rotate"),a("rotateX"),a("rotateY"),a("rotate3d"),a("perspective"),a("skewX"),a("skewY"),a("x",!0),a("y",!0),n.prototype={setFromString:function(e,t){var i="string"==typeof t?t.split(","):t.constructor===Array?t:[t];i.unshift(e),n.prototype.set.apply(this,i)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=u(e,"deg")},rotateX:function(e){this.rotateX=u(e,"deg")},rotateY:function(e){this.rotateY=u(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=u(e,"deg")},skewY:function(e){this.skewY=u(e,"deg")},perspective:function(e){this.perspective=u(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&(this._translateX=u(e,"px")),null!==t&&(this._translateY=u(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=u(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,i){t.setFromString(n,i)})},toString:function(e){var t=[];for(var n in this)if(this.hasOwnProperty(n)){if(!h.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&(e&&"scale"===n?t.push(n+"3d("+this[n]+",1)"):e&&"translate"===n?t.push(n+"3d("+this[n]+",0)"):t.push(n+"("+this[n]+")"))}return t.join(" ")}},$.fn.transition=$.fn.transit=function(e,t){var n,r,a,s,u=this,d=0,f=!0;if("undefined"!=typeof e.easing&&(n=e.easing,delete e.easing),"undefined"!=typeof e.duration&&(r=e.duration,delete e.duration),"undefined"!=typeof e.complete&&(t=e.complete,delete e.complete),"undefined"!=typeof e.queue&&(f=e.queue,delete e.queue),"undefined"!=typeof e.delay&&(d=e.delay,delete e.delay),s=e.preset,a=e.count,void 0!==s){r=void 0===r||0===r?"":l(r).toString(),d=void 0===d||0===d?"":l(d).toString(),a=void 0===a||0===a?"":a.toString();var p={};return p.duration=r,p.delay=d,p.count=a,g.animate(u,p,t,s,e.remove)}"undefined"==typeof r&&(r=$.fx.speeds._default),"undefined"==typeof n&&(n=$.cssEase._default),r=c(r);var v=o(e,r,n,d),b=$.transit.enabled&&h.transition,_=b?parseInt(r,10)+parseInt(d,10):0;if(0===_){var y=function(n){u.css(e),t&&t.apply(u),n&&n()};return i(u,f,y),u}var w={},x=function(n){var i=!1,r=function(){i&&u.unbind(m,r),_>0&&u.each(function(){this.style[h.transition]=w[this]||null}),"function"==typeof t&&t.apply(u),"function"==typeof n&&n()};_>0&&m&&$.transit.useTransitionEnd?(i=!0,u.bind(m,r)):window.setTimeout(r,_),u.each(function(){_>0&&(this.style[h.transition]=v),$(this).css(e)})},O=function(e){var t=0;"MozTransition"===h.transition&&25>t&&(t=25),window.setTimeout(function(){x(e)},t)};return i(u,f,O),this},$.transit.getTransitionValue=o;var g={};return g.pfx=["webkit","moz","MS","o"],$.browser.webkit?g.animationend=g.pfx[0]+"AnimationEnd":g.animationend="animationend",g.isAnimated=function(e){if(e[0]){for(var t=e[0].className.split(/\s+/),n=0;n<t.length;n++)if("animated"===t[n])return!0;return!1}},g.animate=function(e,t,n,i,r){if(g.isAnimated(e))return e;void 0===t&&(t={}),e.show(),e.css({visibility:"visible"});var o="animated "+i;return e.on(g.animationend,function(t){void 0!==r?(e.removeClass(r),d(e,t,o,i,n)):d(e,t,o,i,n)}),e.addCSSStyles(t).addClass(o),e},g.animationEndEvent=function(){return g.animationend},g.transitionEndEvent=function(){var e,t=["webkit","moz","MS","o"];return e=$.browser.webkit?t[0]+"TransitionEnd":$.browser.mozilla?"transitionend":$.browser.msie?t[2]+"TransitionEnd":$.browser.opera?t[3]+"TransitionEnd":"transitionend"},$.fn.removeCSSStyles=function(){return this.css({"animation-duration":"","animation-delay":"","animation-iteration-count":"","-webkit-animation-duration":"","-webkit-animation-delay":"","-webkit-animation-iteration-count":"","-moz-animation-duration":"","-moz-animation-delay":"","-moz-animation-iteration-count":"",visibility:""}),this},$.fn.addCSSStyles=function(e){var t=e.duration,n=e.delay,i=e.count;return t=void 0===t?"":e.duration.toString()+"s",n=void 0===n?"":e.delay.toString()+"s",i=void 0===i?"":e.count.toString(),this.css({"animation-duration":t,"animation-delay":n,"animation-iteration-count":i,"-webkit-animation-duration":t,"-webkit-animation-delay":n,"-webkit-animation-iteration-count":i,"-moz-animation-duration":t,"-moz-animation-delay":n,"-moz-animation-iteration-count":i}),this},$.transit.CSS3=g,$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){!function(e,t){"use strict";if("function"!=typeof e.createEvent)return!1;var n,i,r,o,a,s="undefined"!=typeof jQuery,u=!!navigator.pointerEnabled||navigator.msPointerEnabled,c=!!("ontouchstart"in window)&&navigator.userAgent.indexOf("PhantomJS")<0||u,l=function(e){var t=e.toLowerCase(),n="MS"+e;return navigator.msPointerEnabled?n:t},d={touchstart:l("PointerDown")+" touchstart",touchend:l("PointerUp")+" touchend",touchmove:l("PointerMove")+" touchmove"},f=function(e,t,n){for(var i=t.split(" "),r=i.length;r--;)e.addEventListener(i[r],n,!1)},h=function(e){return e.targetTouches?e.targetTouches[0]:e},p=function(t,r,o,a){var u=e.createEvent("Event");if(a=a||{},a.x=n,a.y=i,a.distance=a.distance,s)jQuery(t).trigger(r,a);else{u.originalEvent=o;for(var c in a)u[c]=a[c];u.initEvent(r,!0,!0),t.dispatchEvent(u)}},v=function(e){var t=h(e);r=n=t.pageX,o=i=t.pageY,b=!0,O++,clearTimeout(a),a=setTimeout(function(){r>=n-w&&n+w>=r&&o>=i-w&&i+w>=o&&!b&&p(e.target,2===O?"dbltap":"tap",e),O=0},y)},m=function(e){var t=[],a=o-i,s=r-n;if(b=!1,-_>=s&&t.push("swiperight"),s>=_&&t.push("swipeleft"),-_>=a&&t.push("swipedown"),a>=_&&t.push("swipeup"),t.length)for(var u=0;u<t.length;u++){var c=t[u];p(e.target,c,e,{distance:{x:Math.abs(s),y:Math.abs(a)}})}},g=function(e){var t=h(e);n=t.pageX,i=t.pageY},b=!1,_=t.SWIPE_TRESHOLD||80,y=t.TAP_TRESHOLD||200,w=t.TAP_PRECISION/2||30,x=t.JUST_ON_TOUCH_DEVICES||c,O=0;f(e,d.touchstart+(x?"":" mousedown"),v),f(e,d.touchend+(x?"":" mouseup"),m),f(e,d.touchmove+(x?"":" mousemove"),g)}(document,window)}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){!function(){$.event.special.throttledresize={setup:function(){$(this).bind("resize",r)},teardown:function(){$(this).unbind("resize",r)}};var e,t,n,i=250,r=function(){t=(new Date).getTime(),n=t-o,n>=i?(o=t,$(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(r,i-n))},o=0}(),function(){function e(){var e=t();e!==n&&(n=e,o.trigger(a))}var t,n,i,r,o=$(window),a="orientationchange",s={0:!0,180:!0};if($.device.orientation){var u=window.innerWidth||$(window).width(),c=window.innerHeight||$(window).height(),l=50;i=u>c&&u-c>l,r=s[window.orientation],(i&&r||!i&&!r)&&(s={"-90":!0,90:!0})}$.event.special.orientationchange=$.extend({},$.event.special.orientationchange,{setup:function(){return!$.device.orientation||$.event.special.orientationchange.disabled||$.device.android?(n=t(),void o.bind("throttledresize",e)):!1},teardown:function(){return!$.device.orientation||$.event.special.orientationchange.disabled||$.device.android?void o.unbind("throttledresize",e):!1},add:function(e){var n=e.handler;e.handler=function(e){return e.orientation=t(),n.apply(this,arguments)}}}),$.event.special.orientationchange.orientation=t=function(){var e=!0,t=document.documentElement;return e=$.support.orientation?s[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},$.fn[a]=function(e){return e?this.bind(a,e):this.trigger(a)},$.attrFn&&($.attrFn[a]=!0)}(),function(){var e=$("meta[name=viewport]"),t=e.attr("content"),n=t+",maximum-scale=1, user-scalable=no",i=t+",maximum-scale=10, user-scalable=yes",r=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(t);$.device.zoom=$.extend({},{enabled:!r,locked:!1,disable:function(t){r||$.device.zoom.locked||(e.attr("content",n),$.device.zoom.enabled=!1,$.device.zoom.locked=t||!1)},enable:function(t){r||$.device.zoom.locked&&t!==!0||(e.attr("content",i),$.device.zoom.enabled=!0,$.device.zoom.locked=!1)},restore:function(){r||(e.attr("content",t),$.device.zoom.enabled=!0)}})}(),function(){function e(e){t=e.originalEvent,o=t.accelerationIncludingGravity,n=Math.abs(o.x),i=Math.abs(o.y),r=Math.abs(o.z),!window.orientation&&(n>7||(r>6&&8>i||8>r&&i>6)&&n>5)?a.enabled&&a.disable():a.enabled||a.enable()}if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var t,n,i,r,o,a=$.device.zoom;$(window).bind("orientationchange.iosorientationfix",a.enable).bind("devicemotion.iosorientationfix",e);
}}(),function(){function e(e,t,n,i){var r=n.type;n.type=t,i?$.event.trigger(n,void 0,e):$.event.dispatch.call(e,n),n.type=r}var t="touchmove scroll";$.event.special.scrollstart={enabled:!0,setup:function(){function n(t,n){i=n,e(o,i?"scrollstart":"scrollstop",t)}var i,r,o=this,a=$(o);a.bind(t,function(e){$.event.special.scrollstart.enabled&&(i||n(e,!0),clearTimeout(r),r=setTimeout(function(){n(e,!1)},50))})},teardown:function(){$(this).unbind(t)}}}(),function(){function e(e,t){var n=t.handler,i=t.selector;e.on("click",i,function(e){return e.preventDefault(),e.namespace="elliptical.click",n.apply(this,arguments)})}function t(e,t){var n=t.handler,i=t.selector;e.on("touchstart",i,function(e){return e.preventDefault(),e.namespace="elliptical.touch",n.apply(this,arguments)})}function n(e,t){var n=t.selector;e.off("click",n)}function i(e,t){var n=t.selector;e.off("touchstart",n)}var r=!1;$.event.special.touchclick={setup:function(){r=$.device.touch},add:function(n){r?t($(this),n):e($(this),n)},remove:function(e){r?i($(this),e):n($(this),e)}}}(),function(){function e(e,t){var n=t.handler,i=t.selector;e.on("mouseenter",i,function(e){return e.preventDefault(),e.type="hoverover",e.namespace="elliptical.hoverover",n.apply(this,arguments)}),e.on("mouseleave",i,function(e){return e.preventDefault(),e.type="hoverout",e.namespace="elliptical.hoverout",n.apply(this,arguments)})}function t(e,t){var n=t.handler,i=t.selector;e.on("touchend",i,function(t){return t.preventDefault(),e.hasClass("over")?(t.type="hoverout",t.namespace="elliptical.hoverout",e.removeClass("over")):(t.type="hoverover",t.namespace="elliptical.hoverover",e.addClass("over")),n.apply(this,arguments)})}function n(e,t){var n=t.selector;e.off("mouseenter",n),e.off("mouseleave",n)}function i(e,t){var n=t.selector;e.off("touchend",n)}var r=!1;$.event.special.touchhover={setup:function(){r=$.device.touch},add:function(n){r?t($(this),n):e($(this),n)},remove:function(e){r?i($(this),e):n($(this),e)}}}(),function(){function e(e){e.addClass("hide")}function t(e){e.removeClass("hide")}if($.device.ios){var n=$("input, textarea"),i=$("ui-navbar, ui-topbar");i[0]&&(n.on("focusin",function(t){e(i)}),n.on("focusout",function(e){t(i)}))}}()}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){var e={};return e.setHardwareAcceleration=function(e,t){var n;return e.hasClass(t)?n=!1:(n=!0,e.addClass(t)),n},e.resetHardwareAcceleration=function(e,t,n){t&&e.removeClass(n)},e.setContainerOverflow=function(e,t){var n;return e.hasClass(t)?n=!1:(n=!0,e.addClass(t)),n},e.resetContainerOverflow=function(e,t,n){t&&e.removeClass(n)},e.resetContainer=function(e,t,n){e&&e.css({transition:"","-webkit-transition":"","-webkit-transform":"","-moz-transition":"","-moz-transform":"",transform:"",height:""}).removeClass(t).removeClass(n)},e.resetTransition=function(e){e.css({transition:"","-webkit-transition":"","-moz-transition":""})},e.resetTransform=function(e){e.css({transition:"","-webkit-transition":"","-webkit-transform":"","-moz-transition":"","-moz-transform":"",transform:""})},e.transform=function(e,t){var n={"-webkit-transform":"translate3d("+t.x+","+t.y+","+t.z+")","-moz-transform":"translate3d("+t.x+","+t.y+","+t.z+")",transform:"translate3d("+t.x+","+t.y+","+t.z+")"};e.css(n)},e.transition3d=function(e,t,n){var i=$.transit.CSS3,r=i.transitionEndEvent(),o=t.coordinates;o.x=o.x.toPixel(),o.y=o.y.toPixel(),o.z=o.z.toPixel();var a=t.easing||"ease-in-out";t.duration=t.duration.toMillisecond()||"300ms",t.delay=t.delay.toMillisecond()||0,t.transitionEnd=t.transitionEnd||!1;var s={transition:"transform "+t.duration+" "+t.delay+" "+a,"-webkit-transition":"-webkit-transform "+t.duration+" "+t.delay+" "+a,"-moz-transition":"-moz-transform "+t.duration+" "+t.delay+" "+a,"-webkit-transform":"translate3d("+o.x+","+o.y+","+o.z+")","-moz-transform":"translate3d("+o.x+","+o.y+","+o.z+")",transform:"translate3d("+o.x+","+o.y+","+o.z+")"};e.on(r,function(){t.transitionEnd&&$(this).off(r),n&&n()}).css(s)},$.transforms=$.transforms||{},$.extend($.transforms,e),$}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.element=t(),e.returnExports=e.elliptical.extensions.element)}(this,function(){return{created:function(){this.element=$(this)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.utils=t(),e.returnExports=e.elliptical.extensions.utils)}(this,function(){return{_utils:$.utils,_DOMParser:function(e){return(new DOMParser).parseFromString(e,"text/html")},_preloadImages:function(e,t){var n=[],i={},r={},o=e.find("img").not("[data-src]"),a=o.length,s=0;return 0===a?(t&&(i.message="No images found in element",t(i,null)),!1):($.each(o,function(e,i){var o=new Image;$(o).bind("load",function(e){s++,n.push(o),s===a&&t&&(r.images=n,r.length=s,t(null,r))}),o.src=i.src}),!0)},_scrollTop:function(e,t){"number"!=typeof e?e=0:"undefined"==typeof t&&(t="scrollTop"),setTimeout(function(){window.scrollTo(0,e),$(document).trigger(t,{x:0,y:e})},20)},_setModal:function(e,t,n){var i=arguments.length;0===i?(e=$("body"),t={},n=null):1===i?"function"==typeof e?(n=e,e=$("body"),t={}):e.context?(t={},n=null):(t=e,e=$("body")):2===i&&("function"==typeof t?(n=t,void 0===e.context?(t=e,e=$("body")):t={}):n=null);var r=$('<div class="ui-modal"></div>');t.cssClass&&r.addClass(t.cssClass),t.zIndex&&r.css({"z-index":t.zIndex}),this._data?this._data.set("modal",r):this._modal=r;var o=t.opacity?t.opacity:.3;r.css({opacity:0}),e.append(r),this._transition(r,{opacity:o,duration:250},function(){n&&n()})},_removeModal:function(e){var t=this,n=null;n=this._data?this._data.get("modal"):this._modal,n&&void 0!==n&&this._transition(n,{opacity:0,duration:250},function(){n.remove(),t._data?t._data.set("modal",null):t._modal=null,e&&e()})},_resetSemanticState:function(){this.element.removeClass("error").removeClass("warning").removeClass("success").removeClass("info")},_setChildrenAttributes:function(){var e=this.element;e[0].hasAttribute&&e[0].hasAttribute("disabled")&&e.query("input,textarea,select",function(e){e[0]&&e.attr("disabled",!0)}),e[0].hasAttribute&&e[0].hasAttribute("readonly")&&e.query("input,textarea,select",function(e){e[0]&&e.attr("readonly",!0)})},_enableChildrenAttributes:function(){var e=this.element;e.query("input,textarea,select",function(e){e[0]&&e.attr("disabled",!1)}),e.query("input,textarea,select",function(e){e[0]&&e.attr("readonly",!1)})},_find:function(e){return this.element.find(e)},_jsonParseMessage:function(e){try{var t=JSON.parse(e);return t.message?t.message:e}catch(n){return e}}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.dataStore=t(),e.returnExports=e.elliptical.extensions.dataStore)}(this,function(){return{_data:{_store:{},get:function(e){return this._store?this._store[e]:void 0},set:function(e,t){this._store&&(this._store[e]=t)},click:"touchclick",hover:"touchhover"}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.device=t(),e.returnExports=elliptical.extensions.device)}(this,function(){return{_device:$.device,_mq:$.mq,_press:function(){return"ontouchend"in document?"touchstart":"click"},_mode:function(){return this._device.viewport.width>768?"desktop":"touch"}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.drawer=t(),e.returnExports=elliptical.extensions.drawer)}(this,function(){return{_createDrawer:function(e,t){if(!this._data.get("locked")){this._data.set("locked",!0);var n=$("ui-container");this._data.set("container",n);var i=n.parent();this._data.set("transformContainer",i);var r=$("<touch-ui-drawer></touch-ui-drawer>");t&&r.addClass(t);var o=this._device.viewport.height;r.css({"min-height":o+"px"}),this._device.touch||r.css({position:"relative"});var a=$("<header></header>");r.append(a);var s=$("<section></section>");r.append(s),n.before(r),this._data.set("drawer",r),this._data.set("drawerHeader",a),this._data.set("drawerSection",s)}},_openDrawer:function(e,t){this._showDrawer();var n=this._device.viewport.height;this.options?this.options.height=n:this.height=n;var i=this,r=this._data.get("container"),o=this._data.get("transformContainer");this._setHardwareAcceleration(o),r.addClass("ui-fixed-toggle-container").css({height:n+"px"}).addClass("ui-drawer-box-shadow");var a=$("<ui-overlay></ui-overlay>");a.addClass("show"),r.append(a),this._data.set("overlay",a);var s=this.options?this.options.overlayBackground:this.overlayBackground,u=this.options?this.options.overlayOpacity:this.overlayOpacity,c=this.options?this.options.overlayOpenDuration:this.overlayOpenDuration,l=this.options?this.options.transformDuration:this.transformDuration,d=this.options?this.options.transformDelay:this.transformDelay,f=this.options?this.options.translateX:this.translateX;a.transition({background:s,opacity:u,duration:c});var h={};h.duration=l,h.delay=d,h.easing="ease-in-out";var p={};p.x=f,p.y=0,p.z=0,h.coordinates=p,h.transitionEnd=!0;var v=this._data.click,m=this._closeDrawer.bind(this);this.element.trigger("drawer.open",{open:!0,closeEvent:m}),this._3dTransition(r,h,function(){i._resetHardwareAcceleration(o),i._resetTransition($(this)),e&&e()}),a.on(v,function(){t&&t()})},_closeDrawer:function(e){var t=this.options?this.options.height:this.height,n=this._data.get("container"),i=window.scrollY;if(i>0){t+=i,n.css({height:t+"px"}),this.element.css({top:i+"px"});var r=this._data.get("drawerHeader");r.css({top:i+"px"})}var o=this._data.get("transformContainer"),a=this.options?this.options.overlayBackground:this.overlayBackground,s=this.options?this.options.overlayCloseDuration:this.overlayCloseDuration,u=this.options?this.options.transformDuration:this.transformDuration,c=this.options?this.options.transformDelay:this.transformDelay,l=this._data.get("overlay"),d=this;this._setHardwareAcceleration(o);var f={};f.duration=u,f.delay=c,f.easing="ease-in-out";var h={};h.x=0,h.y=0,h.z=0,f.coordinates=h,f.transitionEnd=!0,this.element.trigger("drawer.close",{open:!1}),this._3dTransition(n,f,function(){d._resetHardwareAcceleration(o),d._resetContainer(n),d._hideDrawer(),e&&e()});var p=this._data.click;l.off(p),l.transition({background:a,opacity:0,duration:s},function(){l.remove()})},_showDrawer:function(){var e=this._device.viewport.height,t=this._data.get("drawer");t.css({"min-height":e+"px",display:"block"})},_hideDrawer:function(){var e=this._data.get("drawerHeader");e.css({top:""});var t=this._data.get("drawer");t.hide()},_removeDrawer:function(){var e=this._data.get("drawer");e&&(e.remove(),this._data.set("drawer",null)),this._data.set("locked",!1);var t=this._data.get("container");this._resetContainer(t);var n=this._data.get("overlay");n&&n.remove();var i=this._data.get("transformContainer");this._resetHardwareAcceleration(i)},showDrawer:function(){this._showDrawer()},hideDrawer:function(){this._hideDrawer()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.navigation=t(),e.returnExports=e.elliptical.extensions.navigation)}(this,function(){return{_createTouchNavigation:function(e,t){this._data.set("input",null),this._data.set("touchInput",null),this._createDrawer(e,t),this._createTouchMenu(e)},_removeTouchNavigation:function(e){var t=this._data.get("touchInput");t&&this._unbindSearch(t),this._removeDrawer(),this.element.css({position:""}),this._data.set("navLocked",!1)},_createTouchMenu:function(e){if(!this._data.get("navLocked")){this._data.set("navLocked",!0);var t=(this._data.get("drawer"),this._data.get("drawerSection"));if(t){var n=this._data.get("drawerHeader"),i=$("<touch-ui-menu></touch-ui-menu>"),r=this.options?this.options.includeHome:this.includeHome,o=this.options?this.options.homeUrl:this.homeUrl,a=this.options?this.options.homeIcon:this.homeIcon,s=this.options?this.options.touchMenu:this.touchMenu;if(r&&i.append(this._methods.createHomeListItem(o,a)),void 0!==s&&s===!1)return t.append(i),void this._data.set("drawerMenu",i);var u=this._getMenu(e),c=u.clone(),l=this._extractMenuItems(c);l.find("ui-button-dropdown").contents().unwrap(),l=this._methods.replaceWithMenuItemTags(l),this._methods.touchifyUIDropdowns(l),this._methods.iconifyTouchMenuItems(l),i.append(l),i=this._methods.addParentNodesToChildDropDowns(i,"ui-dropdown"),this._appendSearch(i,n);var d=this.options?this.options.model:this.model,f=this._methods.createMenuItemsFromArray(d);f&&i.append(f),t.append(i),this._data.set("drawerMenu",i)}}},_getMenu:function(e){return e.find("ui-menu").not('[touch-menu="false"]').add(e.find('[role="menu"]'))},_extractMenuItems:function(e){var t='[touch-menu-item="false"]',n=e.children().not(t);return this._methods.filterMenuItems(n)},_appendSearch:function(e,t){var n=this;setTimeout(function(){var e=n.element.find("[role=search]");if(e[0]){var i=e.clone();t.append(i)}},1e3)},_appendMenuModel:function(){var e=this.options?this.options.model:this.model;if(this._mq.touch){var t=this._data.get("drawerMenu"),n=this._methods.createMenuItemsFromArray(e);n&&t.append(n)}},_addMenuModel:function(e){var t=$("touch-ui-menu"),n=this._methods.createMenuItemsFromArray(e);t.append(n)},_initSearchHandler:function(){var e="ui-search",t=this.element.find(e);if(t[0]){var n=t.find("input");return this._data.set("input",n),this._onSearch(n,"desktop"),t}return null},_initTouchSearchHandler:function(e,t){var n=e.clone(),i=n.find("input");i[0]&&(this._data.set("touchInput",i),t.append(n),this._onSearch(i,"touch"))},_onSearch:function(e,t){if("desktop"===t){if(this._data.get("searchRegistered"))return!1;this._data.set("searchRegistered",!0),this._onDesktopSearch(e)}else{if(this._data.get("touchSearchRegistered"))return!1;this._data.set("touchSearchRegistered",!0)}},_onDesktopSearch:function(e){function t(e){var t=e.val(),i={value:t};n("search",i)}var n=this._onEventTrigger.bind(this);e.on("focus",function(){e.on("click",function(n){$(this).hasClass("focused")?t(e):e.addClass("focused")}),e.keypress(function(n){return 13===n.which?(t(e),!0):void 0})}),e.on("blur",function(){e.removeClass("focused"),e.off("click")})},_onTouchSearch:function(e){function t(e){var t=e.val(),i={value:t};n("search",i)}var n=this._onEventTrigger.bind(this);e.on("focus",function(){e.on("tap",function(n){$(this).hasClass("focused")?t(e):e.addClass("focused")})}),e.on("blur",function(){e.removeClass("focused"),e.off("tap")})},__dropdownSelector:function(){return"touch-ui-dropdown"},__menuItemSelector:function(){return"menu-item-dropdown"},_touchToggleDropdown:function(e){var t=this.__dropdownSelector(),n=e.find(t);n.hasClass("show")?(e.removeClass("close"),n.removeClass("show")):(e.addClass("close"),n.addClass("show"))},_touchMenuItem:function(e,t){var n=this,i=this.options?this.options.transformDuration:this.transformDuration;i+=100;var r=e.attr("data-id"),o=e.attr("href"),a=e.attr("data-action"),s=e.attr("data-route");if(s&&"false"===s&&(t=!0),this._hide(),void 0!==o&&"#"!==o&&void 0===a&&t)setTimeout(function(){"undefined"!=typeof o&&(n._location?n._location(o):location.href=o)},i);else{var u={id:r,action:a,mode:"touch",href:o};this._onEventTrigger("selected",u)}},_touchMenuLink:function(e,t){var n=e.attr("href");if(void 0===n||"#"===n){var i=e.parent("menu-item-dropdown");i[0]&&this._touchToggleDropdown(i)}else this._touchMenuItem(e,t)},_resetMenu:function(){var e=this._data.get("drawerMenu");e.find(".show").removeClass("show"),e.find(".close").removeClass("close")},_methods:{customElements:function(){return!0},listItem:function(){return"menu-item"},dropdownListItem:function(){return"menu-item-dropdown"},iconAttribute:function(){return"touch-icon"},dropdownElement:function(){return"<ui-dropdown></ui-dropdown>"},createSpanItem:function(e){return $("<span>"+e+"</span>")},createCloneListItem:function(e,t){return $("<"+this.listItem()+'<a href="'+e+'">'+t+"</a></"+this.listItem()+">")},addParentNodesToChildDropDowns:function(e,t){var n=e.find(this.dropdownListItem()),i=this;return n.each(function(e,n){var r=$(n).children("a"),o=r.attr("href");if("undefined"!=typeof o&&"#"!=o){var a=r.html(),s=i.createCloneListItem(o,a),u=$(n).find("."+t);u.prepend(s);var c=i.createSpanItem(a);r.replaceWith(c)}}),e},createMenuItemsFromArray:function(e){if(0===e.length)return null;for(var t,n=[],i=0;i<e.length;i++)if(e[i].dropdown&&e[i].dropdown.length>0){t="undefined"!=typeof e[i].icon?$('<menu-item-dropdown><span class="touch-icon '+e[i].icon+'"></span><a>'+e[i].label+"</a></menu-item-dropdown>"):$("<menu-item-dropdown><a>"+e[i].label+"</a></menu-item-dropdown>");for(var r=$("<touch-ui-dropdown></touch-ui-dropdown>"),o=0;o<e[i].dropdown.length;o++){var a=$('<menu-item><a href="'+e[i].dropdown[o].url+'">'+e[i].dropdown[o].label+"</a></menu-item>");r.append(a)}t.append(r),n.push(t)}else t="undefined"!=typeof e[i].icon?$('<menu-item><span class="touch '+e[i].icon+'"><a href="'+e[i].url+'">'+e[i].label+"</a></span></menu-item>"):$('<menu-item><a href="'+e[i].url+'">'+e[i].label+"</a></menu-item>"),n.push(t);return n},createHomeListItem:function(e,t){var n,i=this.listItem(),r="home";return n=null===t?$("<"+i+" "+r+'><a href="'+e+'">Home</a></'+i+">"):$("<"+i+" "+r+'><span class="touch-icon '+t+'"></span><a href="'+e+'">Home</a></'+i+">")},filterMenuItems:function(e){var t=e.find('[data-touch="false"]');return $.each(t,function(e,t){$(t).remove()}),e},touchifyUIDropdowns:function(e){var t=this;$.each(e,function(e,n){var i=$(n).find("ui-dropdown"),r=$(n).find("ui-mega-dropdown");i&&i.length>0?(i.replaceWith("<touch-ui-dropdown>"+i.html()+"</touch-ui-dropdown>"),r&&r.length>0&&(t.createTouchMenuItemsFromMegaDropdown(r,i),r.remove())):r&&r.length>0&&(i=$("<touch-ui-dropdown></touch-ui-dropdown>"),t.createTouchMenuItemsFromMegaDropdown(r,i),r.replaceWith(i))})},replaceWithMenuItemTags:function(e){for(var t=[],n=0;n<e.length;n++){var i=$(e[n]),r=i.find("ui-dropdown"),o=i.find("ui-mega-dropdown");if(r[0]||o[0]){var a=i.html(),s=$("<menu-item-dropdown>"+a+"</menu-item-dropdown>");t.push(s[0])}else t.push(i[0])}return t},iconifyTouchMenuItems:function(e){var t=this.iconAttribute();$.each(e,function(e,n){var i=$(n),r=i.attr(t);if(void 0!==r){var o=$('<span class="touch '+r+'"></span>');i.prepend(o)}})},createTouchMenuItemsFromMegaDropdown:function(e,t){var n=e.find("a").not('[touch-menu-item="false"]');$.each(n,function(e,n){var i=$("<menu-item></menu-item>");i.append(n),t.append(i)})}},_unbindSearch:function(e){e.off("focus"),e.off("blur")},_onDestroy:function(){this._unbindSearch()},show:function(){this._show()},hide:function(){this._hide()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transition=t(),e.returnExports=e.elliptical.extensions.transition)}(this,function(){return{_transition:function(e,t,n){return $.transition=$.transition||$.transit,e instanceof jQuery||(e=$(e)),t=t||{},t==={}&&(t.duration=300,t.preset="fadeIn"),"none"===t.preset?void e.hide():void e.transition(t,function(){n&&n.call(e[0])})}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.transform=t(),e.returnExports=e.elliptical.extensions.transform)}(this,function(){var e=$.transforms,t="ui-hardware-accelerated",n="ui-overflow-container",i="ui-fixed-toggle-container",r="ui-drawer-box-shadow";return{_setHardwareAcceleration:function(n){this._data.set("toggleAcceleration",e.setHardwareAcceleration(n,t))},_resetHardwareAcceleration:function(n){e.resetHardwareAcceleration(n,this._data.get("toggleAcceleration"),t)},_setContainerOverflow:function(t){this._data.set("toggleOverflow",e.setContainerOverflow(t,n))},_resetContainerOverflow:function(t){e.resetContainerOverflow(t,n)},_resetContainer:function(t){e.resetContainer(t,r,i)},_resetTransition:function(t){e.resetTransition(t)},_resetTransform:function(t){e.resetTransform(t)},_transform:function(t,n){e.transform(t,n)},_3dTransition:function(t,n,i){e.transition3d(t,n,i)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.template=t(e.elliptical.utils,e.dust),e.returnExports=e.elliptical.extensions.template)}(this,function(e,t){var n=e.random;return{__precompile:function(e,n){e=e.replace(/&quot;/g,'"');var i=t.compile(e,n);t.loadSource(i)},_precompileTemplate:function(e,t){var n=e.innerHTML;this.__precompile(n,t)},_render:function(e,n,i,r){t.render(n,i,function(t,n){n&&(e.innerHTML=n),r&&r(t,html)})},_renderTemplate:function(e,n,i){t.render(e,n,i)},_renderTemplateString:function(e,t,i){var r="template-"+n.str(6);this.__precompile(e,r),this._renderTemplate(r,t,i)}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.extensions=e.elliptical.extensions||{},e.elliptical.extensions.event=t(),e.returnExports=e.elliptical.extensions.event)}(this,function(){return{_onEventTrigger:function(e,t){this._triggerEvent(e,t)},_triggerEvent:function(e,t){var n=$.Event(e);this._trigger(e,n,t)},_trigger:function(e,t,n){this.options?this._jqTrigger(e,t,n):this.__triggerEvent(e,n)},__triggerEvent:function(e,t){var n=this._utils.string.tagNameToNamespace(tagName);e=n+"."+e,this.element.trigger(e,t)},_jqTrigger:function(e,t,n){try{var i,r,o=this.options[e];n=n||{};var a=this.widgetEventPrefix,s=this.bindings[0].tagName.toLowerCase(),u=s.split("-"),c=u.length,l=this._utils.string.tagNameToNamespace(s),d=a.toArrayFromCamelCase(),f=this._utils.array.toNamespaceFromArray(d);if(a=f===l?f:c>1?l+"."+a:this.namespace+"."+a,t=$.Event(t),t.type=(e===a?e:a+"."+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!($.isFunction(o)&&o.apply(this.element[0],[t].concat(n))===!1||t.isDefaultPrevented())}catch(h){}}}}),function(e,t){if("undefined"!=typeof module&&module.exports)module.exports=t(require("elliptical-utils"),require("jquery-extensions"),require("./element"),require("./dataStore"),require("./device"),require("./template"),require("./transition"),require("./transform"),require("./utils"),require("./event"));else if("function"==typeof define&&define.amd)define(["elliptical-utils","jquery-extensions","./prototype.element","./prototype.dataStore","./prototype.device","./prototype.template","./prototype.transition","./prototype.transform","./prototype.utils","./prototype.event"],t);else{var n=e.elliptical.prototype.extensions;e.elliptical.extensions.base=t(e.elliptical.utils,e,n.element,n.dataStore,n.device,n.template,n.transition,n.transform,n.utils,n.event),e.returnExports=e.elliptical.extensions.base}}(this,function(e,t,n,i,r,o,a,s,u,c){var l={};return Object.assign({},n,i,u,r,o,a,s,c),l}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.returnExports=t()}(this,function(){Object.observe||!function(e,t){"use strict";var n=function(e){var n=e.call(e),i=typeof i;return"object"==typeof t.alert?function(t){return n===e.call(t)||!!t&&typeof t.toString==i&&typeof t.valueOf==i&&/^\s*\bfunction\b/.test(""+t)}:function(t){return n===e.call(t)}}(e.prototype.toString),i=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},r=function(e){setTimeout(e,10)},o=function(e){clearTimeout(e)},a=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},s=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},u=function(e){return"undefined"==typeof e?!1:"get"in e||"set"in e},c=function(e,t){var n=!1;return e.forEach(function(e){e===t&&(n=!0)}),n},l=function(e,t,i){if("object"!=typeof e)throw new TypeError("Object.observeObject called on non-object");if(n(t)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(t)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==i&&!Array.isArray(i))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},d=function v(){var e=[],v=function n(t,i,r){Array.isArray(t)&&(n._oldValue=t.concat([])),l(t,i,r),r||(r=["add","update","delete","slice"]),Object.getNotifier(t).addListener(i,r),-1===e.indexOf(t)?e.push(t):Object.getNotifier(t)._checkPropertyListing()};v.prototype.deliverChangeRecords=function(e){Object.getNotifier(e).deliverChangeRecords()},e.lastScanned=0;var t=function(e){return function t(){var n=0,i=e.length,o=new Date,a=!1;for(n=e.lastScanned;i>n&&!a;n++)p.indexOf(e[n])>-1?(Object.getNotifier(e[n])._checkPropertyListing(),a=new Date-o>500):(e.splice(n,1),n--,i--);e.lastScanned=i>n?n:0,r(t)}}(e);return r(t),v}(),f=function(e){var t=[],n=[],i=[],l=!1,f=[],h=[],p=this;Object.defineProperty(p,"_watching",{enumerable:!0,get:function(e){return function(){return e}}(e)});var v=function(e,t){var n=(typeof e[t],Object.getOwnPropertyDescriptor(e,t));if("getNotifier"===t||u(n)||!n.enumerable)return!1;if(e instanceof Array&&a(t)){var i=f.length;return f[i]=t,h[i]=e[t],!0}return function(t,n){f[t]=n,h[t]=e[n],Object.defineProperty(e,n,{get:function(){return h[t]},set:function(i){s(h[t],i)||(Object.getNotifier(e).queueUpdate(e,n,"update",h[t]),h[t]=i)}})}(f.length,t),!0};p._checkPropertyListing=function(e){var t,n,i,r,o,s=p._watching,u=Object.keys(s),c=0,l=u.length,d=f.slice(0),m=!e;for(s instanceof Array&&(o=p._oldLength),c=0;l>c;c++)t=u[c],i=s[t],n=typeof i,-1===(r=f.indexOf(t))?v(s,t)&&m&&p.queueUpdate(s,t,"add",null,s[t]):(s instanceof Array&&!a(t)||h[r]!==i&&(m&&p.queueUpdate(s,t,"update",h[r],i),h[r]=i),d.splice(d.indexOf(t),1));if(s instanceof Array&&s.length!==o&&(m&&p.queueUpdate(s,"length","update",o,s),p._oldLength=s.length),m)for(l=d.length,c=0;l>c;c++)r=f.indexOf(d[c]),p.queueUpdate(s,d[c],"delete",h[r]),f.splice(r,1),h.splice(r,1)},p.addListener=function(e,i){var r=t.indexOf(e);-1===r?(t.push(e),n.push(i)):n[r]=i},p.removeListener=function(e){var i=t.indexOf(e);i>-1&&(t.splice(i,1),n.splice(i,1))},p.listeners=function(){return t},p.queueUpdate=function(e,t,n,i){this.queueUpdates([{type:n,object:e,name:t,oldValue:i}])},p.queueUpdates=function(e){var t,n=this,a=0,s=e.length||0;for(a=0;s>a;a++)t=e[a],i.push(t);l&&o(l),l=r(function(){l=!1,n.deliverChangeRecords()})},p.deliverChangeRecords=function(){var e=0,r=t.length;for(e=0;r>e;e++)if(t[e]){var o;if(n[e]){o=[];for(var a=0,s=i.length;s>a;a++)-1!==n[e].indexOf(i[a].type)&&o.push(i[a])}else o=i;if(o.length){if(c(n[e],"splice")){var u=p._arrayObserverSplice(o);o=u?u:o}t[e]===console.log?console.log(o):t[e](o)}}i=[]},p.notify=function(t){if("object"!=typeof t||"string"!=typeof t.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");t.object=e,p.queueUpdates([t])},p._checkPropertyListing(!0),p._arrayObserverSplice=function(e){var t=e[0].object;if(!Array.isArray(t))return!1;var n=d._oldValue;if(void 0===n)return!1;var i=n.length,r=t.length;if(r===i)return!1;var o=p._spliceChangeRecord();o.object=t;var a=i-1,s=r-1;if(r>i){if(o.addedCount=r-i,n[a]!==t[s])o.index=a+1;else if(n[0]!==t[0])o.index=0;else for(var u=0;i>u;u++)if(n[u]!==t[u]){o.index=u;break}}else{var c=i-r;if(n[a]!==t[s])o.index=s+1;else if(n[0]!==t[0])o.index=0;else for(var u=0;i>u;u++)if(n[u]!==t[u]){o.index=u;break}o.removed=p._removedArray(n,o.index,c)}return d._oldValue=t.concat([]),[o]},p._spliceChangeRecord=function(){return{addedCount:0,index:void 0,object:[],removed:[],type:"splice"}},p._removedArray=function(e,t,n){for(var i=[],r=t+n,o=t;r>o;o++)i.push(e[o]);return i}},h=[],p=[];e.getNotifier=function(e){var t=p.indexOf(e),n=t>-1?h[t]:!1;return n||(t=p.length,p[t]=e,n=h[t]=new f(e)),n},e.observe=function(e,t,n){return i(e)?void 0:new d(e,t,n)},e.unobserve=function(e,t){l(e,t);var n=p.indexOf(e),i=n>-1?h[n]:!1;i&&(i.removeListener(t),0===i.listeners().length&&(p.splice(n,1),h.splice(n,1)))}}(Object,this)}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e._utils=e._utils||{},e._utils.forEach=t(),e.returnExports=e._utils.forEach)}(this,function(){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString;return function(n,i,r){if("[object Function]"!==t.call(i))throw new TypeError("iterator must be a function");var o=n.length;if(o===+o)for(var a=0;o>a;a++)i.call(r,n[a],a,n);else for(var s in n)e.call(n,s)&&i.call(r,n[s],s,n)}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("foreach")):"function"==typeof define&&define.amd?define(["foreach"],t):(e._utils.jsonPointer=t(e._utils.forEach),e.returnExports=e._utils.jsonPointer)}(this,function(e){function t(e,n,i){if(3===arguments.length)return t.set(e,n,i);if(2===arguments.length)return t.get(e,n);var r=t.bind(t,e);for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o].bind(r,e));return r}var n=e;return t.get=function(e,n){for(var i,r=t.parse(n);r.length;){if(i=r.shift(),!e.hasOwnProperty(i))throw new Error("Invalid reference token: "+i);e=e[i]}return e},t.set=function(e,n,i){for(var r,o=t.parse(n),a=o[0];o.length>1;)r=o.shift(),a=o[0],e.hasOwnProperty(r)||(a.match(/^\d+$/)?e[r]=[]:e[r]={}),e=e[r];return e[a]=i,this},t.remove=function(e,n){var i=t.parse(n),r=i.pop();if(void 0===r)throw new Error('Invalid JSON pointer for remove: "'+n+'"');delete t.get(e,t.compile(i))[r]},t.dict=function(e,n){var i={};return t.walk(e,function(e,t){i[t]=e},n),i},t.walk=function(e,i,r){var o=[];r=r||function(e){var t=Object.prototype.toString.call(e);return"[object Object]"===t||"[object Array]"===t},function a(e){n(e,function(e,n){o.push(String(n)),r(e)?a(e):i(e,t.compile(o)),o.pop()})}(e)},t.has=function(e,n){try{t.get(e,n)}catch(i){return!1}return!0},t.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")},t.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t.parse=function(e){if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(t.unescape)},t.compile=function(e){return 0===e.length?"":"/"+e.map(t.escape).join("/")},t}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("json-pointer")):"function"==typeof define&&define.amd?define(["json-pointer"],t):(e.Nested=t(e._utils.jsonPointer),e.returnExports=e.Nested)}(this,function(e){function t(e,t,n){return e.has(t)?-1!==e.get(t).indexOf(n):!1}function n(e,t,n){var i=(!e.has(t)&&e.set(t,[]),e.get(t));i.push(n)}function i(e,t,n){var i=e.get(t),r=i.indexOf(n);i.splice(r,1),i.length||e["delete"](t)}var r=e,o=Object.create(null),a=new WeakMap,s=function(e){this.callback=e,this.observers=new WeakMap;
var t=this;this.handleChangeRecords=function(e){try{var n=e.map(t.transform,t);n=Array.prototype.concat.apply([],n),t.callback(n)}catch(i){o.debug&&console.error(i.stack)}}};s.prototype.transform=function(e){var t=this.observers.get(e.object);return t=t.filter(function(e,t,n){return n.indexOf(e)===t}),t.map(function(t){return t.transform(e)})};var u=function(e,t,n){this.root=e,this.delegate=t,this.callback=t.handleChangeRecords,this.accept=n,this.paths=new WeakMap};return u.prototype.observe=function(e,i,o){if(i||(i=""),o||(o=new WeakMap),!o.has(e)){o.set(e,!0),t(this.delegate.observers,e,this)||(Array.isArray(e)&&!this.accept?Object.observe(e,this.callback,["add","update","delete","splice"]):Object.observe(e,this.callback,this.accept)),n(this.paths,e,i),n(this.delegate.observers,e,this);for(var a in e)"object"==typeof e[a]&&null!==e[a]&&this.observe(e[a],i+"/"+r.escape(a),o)}},u.prototype.unobserve=function(e,n){if(console.log(n),e||(e=this.root),n||(n=""),t(this.delegate.observers,e,this)){i(this.paths,e,n),i(this.delegate.observers,e,this),this.paths.has(e)||Object.unobserve(e,this.callback);for(var o in e)"object"==typeof e[o]&&this.unobserve(e[o],n+"/"+r.escape(o))}},u.prototype.transform=function(e){var t=String(e.name||e.index),n=this.paths.get(e.object)[0]+"/"+r.escape(t),i={root:this.root,path:n};for(var o in e)i[o]=e[o];var a=e.oldValue&&[e.oldValue]||e.removed||[];a.forEach(function(e){if(e&&"object"==typeof e){this.paths.get(e).filter(function(t){return!r.has(this.root,t)||r.get(this.root,t)!==e},this)}},this);var s=e.object[t];if("object"==typeof s){var u=Object.getOwnPropertyDescriptor(e.object,t);u.enumerable===!0?this.observe(s,n):this.unobserve(s,n)}return Object.preventExtensions(i),i},o.observe=function(e,t,n){if(void 0===e||"object"!=typeof e)return!1;var i;a.has(t)?i=a.get(t):(i=new s(t),a.set(t,i));var r=i.observers;if(!r.has(e)){var o=new u(e,i,n);o.observe(e)}},o.unobserve=function(e,t){if(a.has(t)){var n=a.get(t);if(n.observers.has(e)){console.log("nested unobserve");var i=n.observers.get(e);i.forEach(function(e){e.unobserve()})}}},o.deliverChangeRecords=function(e){if("function"!=typeof e)throw new TypeError("Callback must be a function, given: "+e);if(a.has(e)){var t=a.get(e);Object.deliverChangeRecords(t.handleChangeRecords)}},o.debug=!1,o}),function(e){"use strict";function t(){function e(e){t=e}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var t=[],n={},i=[];return Object.observe(n,e),Array.observe(i,e),n.id=1,n.id=2,delete n.id,i.push(1,2),i.length=0,Object.deliverChangeRecords(e),5!==t.length?!1:"add"!=t[0].type||"update"!=t[1].type||"delete"!=t[2].type||"splice"!=t[3].type||"splice"!=t[4].type?!1:(Object.unobserve(n,e),Array.unobserve(i,e),!0)}function n(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var e=new Function("","return true;");return e()}catch(t){return!1}}function i(e){return+e===e>>>0&&""!==e}function r(e){return+e}function o(e){return e===Object(e)}function a(e,t){return e===t?0!==e||1/e===1/t:H(e)&&H(t)?!0:e!==e&&t!==t}function s(e){if(void 0===e)return"eof";var t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:case 48:return e;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return t>=97&&122>=t||t>=65&&90>=t?"ident":t>=49&&57>=t?"number":"else"}function u(){}function c(e){function t(){if(!(f>=e.length)){var t=e[f+1];return"inSingleQuote"==h&&"'"==t||"inDoubleQuote"==h&&'"'==t?(f++,i=t,p.append(),!0):void 0}}for(var n,i,r,o,a,c,l,d=[],f=-1,h="beforePath",p={push:function(){void 0!==r&&(d.push(r),r=void 0)},append:function(){void 0===r?r=i:r+=i}};h;)if(f++,n=e[f],"\\"!=n||!t(h)){if(o=s(n),l=Y[h],a=l[o]||l["else"]||"error","error"==a)return;if(h=a[0],c=p[a[1]]||u,i=void 0===a[2]?n:a[2],c(),"afterPath"===h)return d}}function l(e){return Q.test(e)}function d(e,t){if(t!==X)throw Error("Use Path.get to retrieve path objects");for(var n=0;n<e.length;n++)this.push(String(e[n]));q&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function f(e){if(e instanceof d)return e;if((null==e||0==e.length)&&(e=""),"string"!=typeof e){if(i(e.length))return new d(e,X);e=String(e)}var t=Z[e];if(t)return t;var n=c(e);return n?(t=new d(n,X),Z[e]=t,t):J}function h(e){return i(e)?"["+e+"]":'["'+e.replace(/"/g,'\\"')+'"]'}function p(t){for(var n=0;K>n&&t.check_();)n++;return L&&(e.dirtyCheckCycleCount=n),n>0}function v(e){for(var t in e)return!1;return!0}function m(e){return v(e.added)&&v(e.removed)&&v(e.changed)}function g(e,t){var n,i={},r={},o={};for(n in t){var a=e[n];(void 0===a||a!==t[n])&&(n in e?a!==t[n]&&(o[n]=a):r[n]=void 0)}for(n in e)n in t||(i[n]=e[n]);return Array.isArray(e)&&e.length!==t.length&&(o.length=e.length),{added:i,removed:r,changed:o}}function b(){if(!ee.length)return!1;for(var e=0;e<ee.length;e++)ee[e]();return ee.length=0,!0}function _(){function e(e){t&&t.state_===oe&&!i&&t.check_(e)}var t,n,i=!1,r=!0;return{open:function(n){if(t)throw Error("ObservedObject in use");r||Object.deliverChangeRecords(e),t=n,r=!1},observe:function(t,i){n=t,i?Array.observe(n,e):Object.observe(n,e)},deliver:function(t){i=t,Object.deliverChangeRecords(e),i=!1},close:function(){t=void 0,Object.unobserve(n,e),ne.push(this)}}}function y(e,t,n){var i=ne.pop()||_();return i.open(e),i.observe(t,n),i}function w(){function e(t,o){t&&(t===i&&(r[o]=!0),s.indexOf(t)<0&&(s.push(t),Object.observe(t,n)),e(Object.getPrototypeOf(t),o))}function t(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.object!==i||r[n.name]||"setPrototype"===n.type)return!1}return!0}function n(n){if(!t(n)){var i,r;for(i=0;i<a.length;i++)r=a[i],r.state_==oe&&r.iterateObjects_(e);for(i=0;i<a.length;i++)r=a[i],r.state_==oe&&r.check_()}}var i,r,o=0,a=[],s=[],u={objects:s,get rootObject(){return i},set rootObject(e){i=e,r={}},open:function(t,n){a.push(t),o++,t.iterateObjects_(e)},close:function(e){if(o--,!(o>0)){for(var t=0;t<s.length;t++)Object.unobserve(s[t],n),O.unobservedCount++;a.length=0,s.length=0,i=void 0,r=void 0,ie.push(this),G===this&&(G=null)}}};return u}function x(e,t){return G&&G.rootObject===t||(G=ie.pop()||w(),G.rootObject=t),G.open(e,t),G}function O(){this.state_=re,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ue++}function $(e){O._allObserversCount++,le&&ce.push(e)}function C(e){O._allObserversCount--}function j(e){O.call(this),this.value_=e,this.oldObject_=void 0}function E(e){if(!Array.isArray(e))throw Error("Provided object is not an Array");j.call(this,e)}function k(e,t,n){O.call(this),this.object_=e,this.path_=f(t),this.defaultValue_=n,this.directObserver_=void 0}function S(e){O.call(this),this.reportChangesOnOpen_=e,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function T(e){return e}function A(e,t,n,i){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=e,this.getValueFn_=t||T,this.setValueFn_=n||T,this.dontPassThroughSet_=i}function P(e,t,n){for(var i={},r={},o=0;o<t.length;o++){var a=t[o];he[a.type]?(a.name in n||(n[a.name]=a.oldValue),"update"!=a.type&&("add"!=a.type?a.name in i?(delete i[a.name],delete n[a.name]):r[a.name]=!0:a.name in r?delete r[a.name]:i[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}var s;for(s in i)i[s]=e[s];for(s in r)r[s]=void 0;var u={};for(s in n)if(!(s in i||s in r)){var c=e[s];n[s]!==c&&(u[s]=c)}return{added:i,removed:r,changed:u}}function M(e,t,n){return{index:e,removed:t,addedCount:n}}function I(){}function D(e,t,n,i,r,o){return be.calcSplices(e,t,n,i,r,o)}function N(e,t,n,i){return n>t||e>i?-1:t==n||i==e?0:n>e?i>t?t-n:i-n:t>i?i-e:t-e}function V(e,t,n,i){for(var r=M(t,n,i),o=!1,a=0,s=0;s<e.length;s++){var u=e[s];if(u.index+=a,!o){var c=N(r.index,r.index+r.removed.length,u.index,u.index+u.addedCount);if(c>=0){e.splice(s,1),s--,a-=u.addedCount-u.removed.length,r.addedCount+=u.addedCount-c;var l=r.removed.length+u.removed.length-c;if(r.addedCount||l){if(n=u.removed,r.index<u.index){var d=r.removed.slice(0,u.index-r.index);Array.prototype.push.apply(d,n),n=d}if(r.index+r.removed.length>u.index+u.addedCount){var f=r.removed.slice(u.index+u.addedCount-r.index);Array.prototype.push.apply(n,f)}r.removed=n,u.index<r.index&&(r.index=u.index)}else o=!0}else if(r.index<u.index){o=!0,e.splice(s,0,r),s++;var h=r.addedCount-r.removed.length;u.index+=h,a+=h}}}o||e.push(r)}function F(e,t){for(var n=[],o=0;o<t.length;o++){var a=t[o];switch(a.type){case"splice":V(n,a.index,a.removed.slice(),a.addedCount);break;case"add":case"update":case"delete":if(!i(a.name))continue;var s=r(a.name);if(0>s)continue;V(n,s,[a.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(a))}}return n}function z(e,t){var n=[];return F(e,t).forEach(function(t){return 1==t.addedCount&&1==t.removed.length?void(t.removed[0]!==e[t.index]&&n.push(t)):void(n=n.concat(D(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)))}),n}var L=e.testingExposeCycleCount,R=t(),q=n(),H=e.Number.isNaN||function(t){return"number"==typeof t&&e.isNaN(t)},B="__proto__"in{}?function(e){return e}:function(e){var t=e.__proto__;if(!t)return e;var n=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n},U="[$_a-zA-Z]",W="[$_a-zA-Z0-9]",Q=new RegExp("^"+U+"+"+W+"*$"),Y={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},X={},Z={};d.get=f,d.prototype=B({__proto__:[],valid:!0,toString:function(){for(var e="",t=0;t<this.length;t++){var n=this[t];e+=l(n)?t?"."+n:n:h(n)}return e},getValueFrom:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];if(null==e||!(i in e))return t;e=e[i]}return e},iterateObjects:function(e,t){for(var n=0;n<this.length;n++){if(n&&(e=e[this[n-1]]),!o(e))return;t(e,this[n])}},compiledGetValueFromFn:function(){var e="",t="obj";e+="if (obj != null";for(var n,i=0;i<this.length-1;i++)n=this[i],t+=l(n)?"."+n:h(n),e+=" &&\n    "+t+" != null";n=this[i];var r=l(n),o=r?'"'+n.replace(/"/g,'\\"')+'"':n;return e+=" &&\n    "+o+" in "+t+")\n",t+=r?"."+n:h(n),e+="  return "+t+";\nelse\n  return defaultValue;",new Function("obj","defaultValue",e)},setValueFrom:function(e,t){if(!this.length)return!1;for(var n=0;n<this.length-1;n++){if(!o(e))return!1;e=e[this[n]]}return o(e)?(e[this[n]]=t,!0):!1}});var J=new d("",X);J.valid=!1,J.getValueFrom=J.setValueFrom=function(){};var G,K=1e3,ee=[],te=R?function(){return function(e){return Promise.resolve().then(e)}}():function(){return function(e){ee.push(e)}}(),ne=[],ie=[],re=0,oe=1,ae=2,se=3,ue=1;O.prototype={open:function(e,t){if(this.state_!=re)throw Error("Observer has already been opened.");return $(this),this.callback_=e,this.target_=t,this.connect_(),this.state_=oe,this.value_},close:function(){this.state_==oe&&(C(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=ae)},deliver:function(){this.state_==oe&&p(this)},report_:function(e){try{this.callback_.apply(this.target_,e)}catch(t){O._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(t.stack||t))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var ce,le=!R;O._allObserversCount=0,le&&(ce=[]);var de=!1;e.Platform=e.Platform||{},e.Platform.performMicrotaskCheckpoint=function(){if(!de&&le){de=!0;var t,n,i=0;do{i++,n=ce,ce=[],t=!1;for(var r=0;r<n.length;r++){var o=n[r];o.state_==oe&&(o.check_()&&(t=!0),ce.push(o))}b()&&(t=!0)}while(K>i&&t);L&&(e.dirtyCheckCycleCount=i),de=!1}},le&&(e.Platform.clearObservers=function(){ce=[]}),j.prototype=B({__proto__:O.prototype,arrayObserve:!1,connect_:function(e,t){R?this.directObserver_=y(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(e){var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=e[n];return Array.isArray(e)&&(t.length=e.length),t},check_:function(e,t){var n,i;if(R){if(!e)return!1;i={},n=P(this.value_,e,i)}else i=this.oldObject_,n=g(this.value_,this.oldObject_);return m(n)?!1:(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([n.added||{},n.removed||{},n.changed||{},function(e){return i[e]}]),!0)},disconnect_:function(){R?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==oe&&(R?this.directObserver_.deliver(!1):p(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),E.prototype=B({__proto__:j.prototype,arrayObserve:!0,copyObject:function(e){return e.slice()},check_:function(e){var t;if(R){if(!e)return!1;t=z(this.value_,e)}else t=D(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return t&&t.length?(R||(this.oldObject_=this.copyObject(this.value_)),this.report_([t]),!0):!1}}),E.applySplices=function(e,t,n){n.forEach(function(n){for(var i=[n.index,n.removed.length],r=n.index;r<n.index+n.addedCount;)i.push(t[r]),r++;Array.prototype.splice.apply(e,i)})},k.prototype=B({__proto__:O.prototype,get path(){return this.path_},connect_:function(){R&&(this.directObserver_=x(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(e){this.path_.iterateObjects(this.object_,e)},check_:function(e,t){var n=this.value_;return this.value_=this.path_.getValueFrom(this.object_,this.defaultValue_),t||a(this.value_,n)?!1:(this.report_([this.value_,n,this]),!0)},setValue:function(e){this.path_&&this.path_.setValueFrom(this.object_,e)}});var fe={};S.prototype=B({__proto__:O.prototype,connect_:function(){if(R){for(var e,t=!1,n=0;n<this.observed_.length;n+=2)if(e=this.observed_[n],e!==fe){t=!0;break}t&&(this.directObserver_=x(this,e))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var e=0;e<this.observed_.length;e+=2)this.observed_[e]===fe&&this.observed_[e+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(e,t){if(this.state_!=re&&this.state_!=se)throw Error("Cannot add paths once started.");if(t=f(t),this.observed_.push(e,t),this.reportChangesOnOpen_){var n=this.observed_.length/2-1;this.value_[n]=t.getValueFrom(e)}},addObserver:function(e){if(this.state_!=re&&this.state_!=se)throw Error("Cannot add observers once started.");if(this.observed_.push(fe,e),this.reportChangesOnOpen_){var t=this.observed_.length/2-1;this.value_[t]=e.open(this.deliver,this)}},startReset:function(){if(this.state_!=oe)throw Error("Can only reset while open");this.state_=se,this.disconnect_()},finishReset:function(){if(this.state_!=se)throw Error("Can only finishReset after startReset");return this.state_=oe,this.connect_(),this.value_},iterateObjects_:function(e){for(var t,n=0;n<this.observed_.length;n+=2)t=this.observed_[n],t!==fe&&this.observed_[n+1].iterateObjects(t,e)},check_:function(e,t){for(var n,i=0;i<this.observed_.length;i+=2){var r,o=this.observed_[i],s=this.observed_[i+1];if(o===fe){var u=s;r=this.state_===re?u.open(this.deliver,this):u.discardChanges()}else r=s.getValueFrom(o);t?this.value_[i/2]=r:a(r,this.value_[i/2])||(n=n||[],n[i/2]=this.value_[i/2],this.value_[i/2]=r)}return n?(this.report_([this.value_,n,this.observed_]),!0):!1}}),A.prototype={open:function(e,t){return this.callback_=e,this.target_=t,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(e){if(e=this.getValueFn_(e),!a(e,this.value_)){var t=this.value_;this.value_=e,this.callback_.call(this.target_,this.value_,t)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(e){return e=this.setValueFn_(e),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(e):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var he={add:!0,update:!0,"delete":!0},pe=0,ve=1,me=2,ge=3;I.prototype={calcEditDistances:function(e,t,n,i,r,o){var a,s,u=o-r+1,c=n-t+1,l=new Array(u);for(a=0;u>a;a++)l[a]=new Array(c),l[a][0]=a;for(s=0;c>s;s++)l[0][s]=s;for(a=1;u>a;a++)for(s=1;c>s;s++)if(this.equals(e[t+s-1],i[r+a-1]))l[a][s]=l[a-1][s-1];else{var d=l[a-1][s]+1,f=l[a][s-1]+1;l[a][s]=f>d?d:f}return l},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];t>0||n>0;)if(0!=t)if(0!=n){var o,a=e[t-1][n-1],s=e[t-1][n],u=e[t][n-1];o=u>s?a>s?s:a:a>u?u:a,o==a?(a==i?r.push(pe):(r.push(ve),i=a),t--,n--):o==s?(r.push(ge),t--,i=s):(r.push(me),n--,i=u)}else r.push(ge),t--;else r.push(me),n--;return r.reverse(),r},calcSplices:function(e,t,n,i,r,o){var a=0,s=0,u=Math.min(n-t,o-r);if(0==t&&0==r&&(a=this.sharedPrefix(e,i,u)),n==e.length&&o==i.length&&(s=this.sharedSuffix(e,i,u-a)),t+=a,r+=a,n-=s,o-=s,n-t==0&&o-r==0)return[];var c;if(t==n){for(c=M(t,[],0);o>r;)c.removed.push(i[r++]);return[c]}if(r==o)return[M(t,[],n-t)];for(var l=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,i,r,o)),d=[],f=t,h=r,p=0;p<l.length;p++)switch(l[p]){case pe:c&&(d.push(c),c=void 0),f++,h++;break;case ve:c||(c=M(f,[],0)),c.addedCount++,f++,c.removed.push(i[h]),h++;break;case me:c||(c=M(f,[],0)),c.addedCount++,f++;break;case ge:c||(c=M(f,[],0)),c.removed.push(i[h]),h++}return c&&d.push(c),d},sharedPrefix:function(e,t,n){for(var i=0;n>i;i++)if(!this.equals(e[i],t[i]))return i;return n},sharedSuffix:function(e,t,n){for(var i=e.length,r=t.length,o=0;n>o&&this.equals(e[--i],t[--r]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}};var be=new I,_e=e;"undefined"==typeof exports||exports.nodeType||("undefined"!=typeof module&&module.exports&&(exports=module.exports),_e=exports),_e.Observer=O,_e.Observer.runEOM_=te,_e.Observer.observerSentinel_=fe,_e.Observer.hasObjectObserve=R,_e.ArrayObserver=E,_e.ArrayObserver.calculateSplices=function(e,t){return be.calculateSplices(e,t)},_e.ArraySplice=I,_e.ObjectObserver=j,_e.PathObserver=k,_e.CompoundObserver=S,_e.Path=d,_e.ObserverTransform=A}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),function(e){"use strict";function t(e){for(;e.parentNode;)e=e.parentNode;return"function"==typeof e.getElementById?e:null}function n(e,t,n){var i=e.bindings_;return i||(i=e.bindings_={}),i[t]&&i[t].close(),i[t]=n}function i(e,t,n){return n}function r(e){return null==e?"":e}function o(e,t){e.data=r(t)}function a(e){return function(t){return o(e,t)}}function s(e,t,n,i){return n?void(i?e.setAttribute(t,""):e.removeAttribute(t)):void e.setAttribute(t,r(i))}function u(e,t,n){return function(i){s(e,t,n,i)}}function c(e){switch(e.type){case"checkbox":return w;case"radio":case"select-multiple":case"select-one":return"change";case"range":if(/Trident|MSIE/.test(navigator.userAgent))return"change";default:return"input"}}function l(e,t,n,i){e[t]=(i||r)(n)}function d(e,t,n){return function(i){return l(e,t,i,n)}}function f(){}function h(e,t,n,i){function r(){var r="value"==t&&"number"==e.type;n.setValue(r?e.valueAsNumber:e[t]),n.discardChanges(),(i||f)(e),Platform.performMicrotaskCheckpoint()}var o=c(e);return e.addEventListener(o,r),{close:function(){e.removeEventListener(o,r),n.close()},observable_:n}}function p(e){return Boolean(e)}function v(e){if(e.form)return _(e.form.elements,function(t){return t!=e&&"INPUT"==t.tagName&&"radio"==t.type&&t.name==e.name});var n=t(e);if(!n)return[];var i=n.querySelectorAll('input[type="radio"][name="'+e.name+'"]');return _(i,function(t){return t!=e&&!t.form})}function m(e){"INPUT"===e.tagName&&"radio"===e.type&&v(e).forEach(function(e){var t=e.bindings_.checked;t&&t.observable_.setValue(!1)})}function g(e,t){var n,i,o,a=e.parentNode;a instanceof HTMLSelectElement&&a.bindings_&&a.bindings_.value&&(n=a,i=n.bindings_.value,o=n.value),e.value=r(t),n&&n.value!=o&&(i.observable_.setValue(n.value),i.observable_.discardChanges(),Platform.performMicrotaskCheckpoint())}function b(e){return function(t){g(e,t)}}var _=Array.prototype.filter.call.bind(Array.prototype.filter);Node.prototype.bind=function(e,t){console.error("Unhandled binding to Node: ",this,e,t)},Node.prototype.bindFinished=function(){};var y=i;Object.defineProperty(Platform,"enableBindingsReflection",{get:function(){return y===n},set:function(e){return y=e?n:i,e},configurable:!0}),Text.prototype.bind=function(e,t,n){if("textContent"!==e)return Node.prototype.bind.call(this,e,t,n);if(n)return o(this,t);var i=t;return o(this,i.open(a(this))),y(this,e,i)},Element.prototype.bind=function(e,t,n){var i="?"==e[e.length-1];if(i&&(this.removeAttribute(e),e=e.slice(0,-1)),n)return s(this,e,i,t);var r=t;return s(this,e,i,r.open(u(this,e,i))),y(this,e,r)};var w;!function(){var e=document.createElement("div"),t=e.appendChild(document.createElement("input"));t.setAttribute("type","checkbox");var n,i=0;t.addEventListener("click",function(e){i++,n=n||"click"}),t.addEventListener("change",function(){i++,n=n||"change"});var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(r),w=1==i?"change":n}(),HTMLInputElement.prototype.bind=function(e,t,i){if("value"!==e&&"checked"!==e)return HTMLElement.prototype.bind.call(this,e,t,i);this.removeAttribute(e);var o="checked"==e?p:r,a="checked"==e?m:f;if(i)return l(this,e,t,o);var s=t,u=h(this,e,s,a);return l(this,e,s.open(d(this,e,o)),o),n(this,e,u)},HTMLTextAreaElement.prototype.bind=function(e,t,n){if("value"!==e)return HTMLElement.prototype.bind.call(this,e,t,n);if(this.removeAttribute("value"),n)return l(this,"value",t);var i=t,o=h(this,"value",i);return l(this,"value",i.open(d(this,"value",r))),y(this,e,o)},HTMLOptionElement.prototype.bind=function(e,t,n){if("value"!==e)return HTMLElement.prototype.bind.call(this,e,t,n);if(this.removeAttribute("value"),n)return g(this,t);var i=t,r=h(this,"value",i);return g(this,i.open(b(this))),y(this,e,r)},HTMLSelectElement.prototype.bind=function(e,t,i){if("selectedindex"===e&&(e="selectedIndex"),"selectedIndex"!==e&&"value"!==e)return HTMLElement.prototype.bind.call(this,e,t,i);if(this.removeAttribute(e),i)return l(this,e,t);var r=t,o=h(this,e,r);return l(this,e,r.open(d(this,e))),n(this,e,o)}}(this),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-utils")):"function"==typeof define&&define.amd?define(["elliptical-utils"],t):(e.elliptical=e.elliptical||{},e.elliptical.observable=e.elliptical.observable||{},e.elliptical.observable.report=t(e.elliptical.utils),e.returnExports=e.elliptical.observable.report)}(this,function(e){var t=e.string;return{splitPath:function(e,t){return"undefined"==typeof t&&(t="."),"undefined"==typeof e||""===e?[]:Array.isArray(e)?e.slice(0):e.toString().split(t)},getObjValueByPath:function(e,t){try{var n=this.splitPath(t),i=e;return n.forEach(function(e){var t=i[e];i=t}),i}catch(r){return void 0}},setObjValueByPath:function(e,t,n){try{for(var i=this.splitPath(t),r=e,o=i.length,a=o-1,s=0;o>s;s++)if(s===a)r[i[s]]=n;else{var u=r[i[s]];r=u}}catch(c){}},bracketPathFormat:function(e){var t=this.splitPath(e),n=this.isNumeric;if(t&&t.length){var i=t.map(function(e){return n(e)?"["+e.toString()+"]":e});return i.join(".").replace(/.\[/,"[")}return e},objChangedProps:function(t,n){var i={},r=this.keys(t);return r.forEach(function(r){e.isEqual(t[r],n[r])||(i[r]=t[r])}),i},isPropertyArray:function(e,t){try{var n=e[Object.keys(e)[t]];return!!Array.isArray(n)}catch(i){return!1}},propertyByIndex:function(e,t){return e[Object.keys(e)[t]]},changeRecord:{get entity(){return{object:void 0,value:void 0,oldValue:void 0,path:void 0,name:void 0,root:void 0}},get result(){return{added:[],changed:[],removed:[]}}},keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},isArrayList:function(e){if(Array.isArray(e))return e;var t=this.keys(e).length;if(t>1)return null;var n=e[Object.keys(e)[0]];return Array.isArray(n)?n:null},pathReplace:function(e){var n=e.replace(/\//g,".");return"."===t.firstChar(n)&&(n=t.trimFirstChar(n)),n},objDiffReport:function(e,t){var n,i=this.changeRecord.result,r=this,o=this.isArrayList(e);return t&&t.length&&t.forEach(function(e){if(o){if(e.addedCount&&e.addedCount>0&&"splice"===e.type&&i.added.push(e.object[e.index]),e.removed&&e.removed.length>0&&"splice"===e.type&&(i.removed=i.removed.concat(e.removed)),"update"===e.type){n=r.pathReplace(e.path);var t={object:e.object,value:e.value,oldValue:e.oldValue,path:n,name:e.name,root:e.root};i.changed.push(t)}}else{n=r.pathReplace(e.path);var a={object:e.object,value:e.object[e.name],oldValue:e.oldValue,path:n,name:e.name,root:e.root};i.changed.push(a)}}),i}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("observe-js"),require("nested-observe"),require("./report")):"function"==typeof define&&define.amd?define(["observe-js","nested-observe","./report"],t):e.returnExports=t(e,e.Nested,e.elliptical.observable)}(this,function(e,t,n){function i(){function e(e){t=e}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var t=[],n={},i=[];return Object.observe(n,e),Array.observe(i,e),n.id=1,n.id=2,delete n.id,i.push(1,2),i.length=0,Object.deliverChangeRecords(e),5!==t.length?!1:"add"!=t[0].type||"update"!=t[1].type||"delete"!=t[2].type||"splice"!=t[3].type||"splice"!=t[4].type?!1:(Object.unobserve(n,e),Array.unobserve(i,e),!0)}function r(e,t){var n,i={},r={},o={};for(n in t){var a=e[n];(void 0===a||a!==t[n])&&(n in e?a!==t[n]&&(o[n]=a):r[n]=void 0)}for(n in e)n in t||(i[n]=e[n]);return Array.isArray(e)&&e.length!==t.length&&(o.length=e.length),{added:i,removed:r,changed:o}}function o(e,t,n){var i=d.pop()||a();return i.open(e),i.observe(t,n),i}function a(){function e(e){t&&t.state_===l&&!i&&t.check_(e)}var t,n,i=!1,r=!0;return{open:function(n){if(t)throw Error("ObservedObject in use");r||Object.deliverChangeRecords(e),t=n,r=!1},observe:function(t,i){n=t,i?Array.observe(n,e):Object.observe(n,e)},deliver:function(t){i=t,Object.deliverChangeRecords(e),i=!1},close:function(){t=void 0,Object.unobserve(n,e),d.push(this)}}}function s(e,t,n){for(var i={},r={},o=0;o<t.length;o++){var a=t[o];f[a.type]?(a.name in n||(n[a.name]=a.oldValue),"update"!=a.type&&("add"!=a.type?a.name in i?(delete i[a.name],delete n[a.name]):r[a.name]=!0:a.name in r?delete r[a.name]:i[a.name]=!0)):(console.error("Unknown changeRecord type: "+a.type),console.error(a))}for(var s in i)i[s]=e[s];for(var s in r)r[s]=void 0;var u={};for(var s in n)if(!(s in i||s in r)){var c=e[s];n[s]!==c&&(u[s]=c)}return{added:i,removed:r,changed:u}}var u=n.report,c=i(),l=1,d=[],f={add:!0,update:!0,"delete":!0},h=ObjectObserver.prototype;return ObjectObserver=function(e,t){Observer.call(this),this.value_=e,this.oldObject_=void 0,this._override=t},ObjectObserver.prototype=h,ObjectObserver.prototype.connect_=function(){void 0!==this._override?t.observe(this.value_,this.check_.bind(this)):c?this.directObserver_=o(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},ObjectObserver.prototype.check_=function(e,t){if(void 0!==this._override){var n;return e?(n=u.objDiffReport(this.value_,e),this.callback_.call(this,n),!0):!1}var i,o;if(c){if(!e)return!1;o={},i=s(this.value_,e,o)}else o=this.oldObject_,i=r(this.value_,this.oldObject_);return diffIsEmpty(i)?!1:(c||(this.oldObject_=this.copyObject(this.value_)),this.report_([i.added||{},i.removed||{},i.changed||{},function(e){return o[e]}]),!0)},ObjectObserver.prototype.disconnect_=function(){void 0!==this._override?t.unobserve(this.value_,function(){}):c?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},e.ObjectObserver=ObjectObserver,e}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical=e.elliptical||{},e.elliptical.observable=e.elliptical.observable||{},e.elliptical.observable.cache=t(),e.returnExports=e.elliptical.observable.cache)}(this,function(){return{_initCache:function(){var e=this.$cache();this._data.set("$cache",e)},$cache:function(){var e={},t=1;return{reset:function(){t=1,e={}},set:function(n,i){n.__data||(n.__data=t++),e[n.__data]=i},get:function(t){return e[t.__data]}}},_dispose:function(){var e=this._data.get("$cache");e=null,this._super&&this._super()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-event")):"function"==typeof define&&define.amd?define(["elliptical-event"],t):(e.elliptical.observable=e.elliptical.observable||{},e.elliptical.observable.pubsub=t(e.elliptical.Event),e.returnExports=e.elliptical.observable.pubsub)}(this,function(e){return{_publish:function(t,n){e.emit(t,n)},_subscribe:function(t,n){var i=this._data.get("subscriptions");i||(i=new Map),i.set(t,n),this._data.set("subscriptions",i),e.on(t,n)},_subscriptions:$.noop,_unbindSubscriptions:function(){var t=this._data.get("subscriptions");t.forEach(function(t,n){e.off(t,n)})},_dispose:function(){this._unbindSubscriptions(),this._super&&this._super()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("elliptical-utils"),require("./report")):"function"==typeof define&&define.amd?define(["elliptical-utils","./report"],t):(e.elliptical.observable=e.elliptical.observable||{},e.elliptical.observable.scope=t(e.elliptical.utils,e.elliptical.observable.report),e.returnExports=e.elliptical.observable.scope)}(this,function(e,t){var n=e.object;return{_initScopeElement:function(){var e=this.options?this.options.scopeBind:this.scopeBind;void 0===e&&(e=!0),this._data.set("scopeTimeoutId",null),this._data.set("scopeObserver",null),this._data.set("scopeId",this.options.idProp),this.__initScope(),e&&this.__initScopeObservable()},__initScope:function(){this.$scope={}},__initScopeObservable:function(){var e=this,t=5,i=0,r=setInterval(function(){e._data.set("scopeTimeoutId",r);var o=n.isEmpty(this.$scope);o?t>=i?i++:clearInterval(r):(clearInterval(r),e._setObservable())},300)},_setObservable:function(){var e=this.$scope,t=this,n=new ObjectObserver(e,!0);n.open(function(e){t.__onScopeChange(e)}),this._data.set("scopeObserver",n)},__destroyObservable:function(){var e=this._data.get("scopeObserver");e&&(e.close(),e=null,this.$scope=null)},__resetObservable:function(){this.__destroyObservable(),this._setObservable()},__scopeLength:function(e){var n="undefined"==typeof e?this.$scope:e;if(t.isPropertyArray(n,0)){var i=t.propertyByIndex(n,0);return i.length}return-1},__recycle:function(){this.__destroyObservable(),this._setObservable()},__onScopeChange:function(e){
this._onScopeChange(e)},_objectChange:function(e){if(void 0!==e){if(e.object&&e.oldObject)return t.objChangedProps(e.object,e.oldObject);var n={};return n[e.name]=e.value,n}},_dispose:function(){this.__destroyObservable(),this._super&&this._super()},_onScopeChange:function(){},_onScopeBind:function(){},_scopeSetter:function(e,t,n){var i=this.options?this.options.scopeSetterDelay:this.scopeSetterDelay;void 0===i&&(i=300);var r=void 0!==window.__observePolyfill,o=this.$scope;"undefined"==typeof n?r?setTimeout(function(){o[e]=t},i):o[e]=t:r?setTimeout(function(){o[n][e]=t},i):o[n][e]=t},_changeReport:function(e,n){return t.objChangedProps(e,n)},$setScope:function(){this._setObservable(),this._onScopeBind()}}}),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):(e.elliptical.observable=e.elliptical.observable||{},e.elliptical.observable.template=t(e.elliptical.utils,e.elliptical.observable.report),e.returnExports=e.elliptical.observable.template)}(this,function(e,t){var n=8,i=500,r=e.random,o=e.object;return{_initTemplateElement:function(){var e=this.options?this.options.scopeBind:this.scopeBind;void 0===e&&(e=!0),e&&this._watch(),this._setAutoRebind(),this._initPathObservers(),this._data.set("templateId",null),this._data.set("templateNode",null)},_setAutoRebind:function(){var e=this.options?this.options.autoRebind:this.autoRebind;void 0===e&&(e=!0),this._data.set("autoRebind",e)},_initPathObservers:function(){this._data.set("pathObservers",[])},_disconnectPathObservers:function(){var e=this._data.get("pathObservers");e.forEach(function(e){e.disconnect()}),e=null},_watch:function(){var e=this,t=setInterval(function(){if(e.__isReady()){var i=e._getTemplateId();if(i)e._data.set("templateId",i),e.__render();else{var r=e._getTemplateNode();r?(clearInterval(t),e._data.set("templateNode",r),e._setTemplateId(),e.__render()):(count>n&&clearInterval(t),count++)}}else count>n&&clearInterval(t),count++},i)},__isReady:function(){return o.isEmpty(this.$scope)?!1:this._isReady()},_isReady:function(){return!0},_getTemplateId:function(){var e=this.__getTemplateNode();return e?e.getAttribute("template-id"):null},_getTemplateNode:function(){var e=this.element,t=e.selfFind("[template]");return t[0]?t[0]:null},_setTemplateId:function(e){var t="template-"+r.str(6);e.setAttribute("template-id",t),self._data.set("templateId",t)},_setVisibility:function(){var e=this._data.get("templateNode");e&&e.classList.add("visible")},_connectDOMObserver:function(){var e=this._data.get("templateNode");$(e).mutationSummary("connect",this.__onMutation.bind(this),[{all:!0}])},_disconnectDOMObserver:function(){var e=this._data.get("templateNode");$(e).mutationSummary("disconnect")},__onMutation:function(e){e.added&&this._onMutationAdded(e.added),e.removed&&this._onMutationRemoved(e.removed)},_onMutationAdded:function(e){},_onMutationRemoved:function(e){},__render:function(){var e=this,t=this.options?this.options.twoWayBind:this.twoWayBind;void 0===t&&(t=!0);var n=this._data.get("templateNode"),i=this._data.get("templateNode");this._render(n,i,this.$scope,function(i,r){t&&e.__dataBind(n),e._setVisibility(),e._connectDOMObserver()})},__dataBind:function(n){var i=this._data.get("pathObservers"),r=this,a=function(e){3!==e.nodeType&&e.hasAttributes&&e.hasAttributes()&&s(e)},s=function(e){$.each(e.attributes,function(t,n){if(n&&"data-bind"===n.name&&void 0!==n.value&&""!==n.value){var i=n.value.trim(),r=i.split(":"),o=r[0];"text"===o?u(e,r):c(e,r)}})},u=function(n,a){var s={};a.length>2&&(s=l(a[2]));var u=a[1],c=t.getObjValueByPath(r.$scope,u);o.isEmpty(s)||(c=d(c,s),e.setObjValueByPath(r.$scope,u,c));var f=this.__createTextNode(n,c),h=new PathObserver(r.$scope,u);f.bind("textContent",h),i.push(h)},c=function(n,a){var s=a[0];a.length>2&&(fn=l(a[2]));var u=a[1],c=t.getObjValueByPath(r.$scope,u);o.isEmpty(fn)||(c=d(c,fn),e.setObjValueByPath(r.$scope,u,c));var f=new PathObserver(r.$scope,u);n.bind(s,f),i.push(f)},l=function(e){var t,n=e.match(/\((.*?)\)/g);n||(n="");var i=e.replace(n,"");return n=n.replace("(",""),n=n.replace(")",""),t=n.length<1?[]:n.split(","),{func:i,args:t}},d=function(e,t){var n,i,o=t.func;return window.dust.helpers.inline[o]?(n=window.dust.helpers.inline[o],i=t.args,i.length>0?i.unshift(e):i.push(e),n.apply(this,i)):window[o]?(n=window[o],i=t.args,i.length>0?i.unshift(e):i.push(e),n.apply(this,i)):r[o]?(n=r[o],i=t.args,i.length>0?i.unshift(e):i.push(e),n.apply(r,i)):e};this._traverseDOM(n,a)},_traverseDOM:function(e,t){for(t(e),e=e.firstChild;e;)this._traverseDOM(e,t),e=e.nextSibling},__createTextNode:function(e,t){var n=e.innerText;n=n.replace(t,""),e.innerText=n;var i=document.createTextNode(t);return e.appendChild(i),i},__onScopeChange:function(e){var t=this._data.get("autoRebind");t&&(e.removed&&e.removed.length&&e.removed.length>0?this._rebind():e.added&&e.added.length&&e.added.length>0&&this._rebind()),this._onScopeChange(e)},_rebind:function(){this._dispose(),this._initPathObservers(),this.__render()},_dispose:function(){this._disconnectDOMObserver(),this._disconnectPathObservers(),this._super&&this._super()},$rebind:function(){this._rebind()}}});